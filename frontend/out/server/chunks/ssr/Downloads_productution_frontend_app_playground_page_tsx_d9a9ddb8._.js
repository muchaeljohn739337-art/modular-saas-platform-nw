module.exports=[89968,a=>{"use strict";var b=a.i(21033),c=a.i(33118);let d=["bg-yellow-200","bg-pink-200","bg-blue-200","bg-green-200","bg-purple-200","bg-orange-200"];function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(d[0]),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)({x:0,y:0}),p=(0,c.useRef)(null);(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/playground/notes");if(a.ok){let b=await a.json();e(b.map(a=>({...a,createdAt:new Date(a.createdAt)})))}}catch(b){console.error("Error loading notes:",b);let a=localStorage.getItem("playground-notes");if(a)try{let b=JSON.parse(a);e(b.map(a=>({...a,createdAt:new Date(a.createdAt)})))}catch(a){console.error("Error parsing localStorage notes:",a)}}})()},[]),(0,c.useEffect)(()=>{a.length>0&&localStorage.setItem("playground-notes",JSON.stringify(a))},[a]);let q=async()=>{if(!h.trim())return;let b={id:Date.now().toString(),content:h,x:300*Math.random(),y:200*Math.random(),color:j,createdAt:new Date};try{let c=await fetch("/api/playground/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(c.ok){let b=await c.json();e([...a,b])}else throw Error("Failed to save note to backend")}catch(c){console.error("Error saving note:",c),e([...a,b]),localStorage.setItem("playground-notes",JSON.stringify([...a,b]))}i(""),g(!1)},r=async b=>{try{if((await fetch(`/api/playground/notes?id=${b}`,{method:"DELETE"})).ok)e(a.filter(a=>a.id!==b));else throw Error("Failed to delete note from backend")}catch(c){console.error("Error deleting note:",c),e(a.filter(a=>a.id!==b))}},s=async(b,c)=>{if(a.find(a=>a.id===b))try{let d=await fetch("/api/playground/notes",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b,content:c})});if(d.ok){let c=await d.json();e(a.map(a=>a.id===b?c:a))}else throw Error("Failed to update note in backend")}catch(d){console.error("Error updating note:",d),e(a.map(a=>a.id===b?{...a,content:c}:a))}},t=async()=>{if(confirm("Are you sure you want to clear all sticky notes?"))try{if((await fetch("/api/playground/notes/clear",{method:"POST"})).ok)e([]),localStorage.removeItem("playground-notes");else throw Error("Failed to clear notes from backend")}catch(a){console.error("Error clearing notes:",a),e([]),localStorage.removeItem("playground-notes")}},u=()=>{m(null)};return(0,b.jsx)("div",{className:"min-h-screen bg-gray-100 p-4",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Playground"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"Your creative sticky note space"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"+ Add Note"}),(0,b.jsx)("button",{onClick:t,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",disabled:0===a.length,children:"Clear All"}),(0,b.jsx)("button",{onClick:()=>{let b=new Blob([a.map(a=>`Note (${a.createdAt.toLocaleDateString()}):
${a.content}
---`).join("\n\n")],{type:"text/plain"}),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download="playground-notes.txt",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c)},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",disabled:0===a.length,children:"Export"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,b.jsxs)("span",{children:[a.length," notes"]}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{children:"Click and drag to move notes"}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{children:"Double-click to edit"})]})]}),f&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg p-6 w-96",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Add New Sticky Note"}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,b.jsx)("div",{className:"flex gap-2",children:d.map(a=>(0,b.jsx)("button",{onClick:()=>k(a),className:`w-8 h-8 rounded ${a} ${j===a?"ring-2 ring-blue-500":""}`},a))})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),(0,b.jsx)("textarea",{value:h,onChange:a=>i(a.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Enter your note content...",autoFocus:!0})]}),(0,b.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,b.jsx)("button",{onClick:()=>{g(!1),i("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,b.jsx)("button",{onClick:q,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Add Note"})]})]})}),(0,b.jsxs)("div",{ref:p,className:"relative bg-gray-50 rounded-lg shadow-inner h-96 md:h-[600px] overflow-hidden border-2 border-dashed border-gray-300",onMouseMove:a=>{if(!l||!p.current)return;let b=p.current.getBoundingClientRect(),c=a.clientX-b.left-n.x,d=a.clientY-b.top-n.y;e(a=>a.map(a=>a.id===l?{...a,x:Math.max(0,c),y:Math.max(0,d)}:a))},onMouseUp:u,onMouseLeave:u,children:[0===a.length&&(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“"}),(0,b.jsx)("p",{className:"text-gray-500 text-lg",children:"No sticky notes yet"}),(0,b.jsx)("p",{className:"text-gray-400",children:'Click "Add Note" to get started'})]})}),a.map(c=>(0,b.jsxs)("div",{className:`absolute p-3 rounded-lg shadow-lg cursor-move ${c.color} min-w-[200px] max-w-[300px] group`,style:{left:`${c.x}px`,top:`${c.y}px`,minWidth:"200px",maxWidth:"300px"},onMouseDown:b=>((b,c)=>{if(!a.find(a=>a.id===c))return;let d=b.currentTarget.getBoundingClientRect();o({x:b.clientX-d.left,y:b.clientY-d.top}),m(c)})(b,c.id),children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsx)("span",{className:"text-xs text-gray-600 opacity-75",children:c.createdAt.toLocaleDateString()}),(0,b.jsx)("button",{onClick:()=>r(c.id),className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity",children:"Ã—"})]}),(0,b.jsx)("div",{contentEditable:!0,suppressContentEditableWarning:!0,onBlur:a=>s(c.id,a.currentTarget.textContent||""),className:"outline-none text-gray-800 whitespace-pre-wrap",children:c.content})]},c.id))]})]})})}a.s(["default",()=>e])}];

//# sourceMappingURL=Downloads_productution_frontend_app_playground_page_tsx_d9a9ddb8._.js.map