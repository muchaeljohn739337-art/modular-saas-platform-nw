(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["chunks/[root-of-the-server]__fc3a85ab._.js",51615,(e,t,n)=>{t.exports=e.x("node:buffer",()=>require("node:buffer"))},6768,(e,t,n)=>{"use strict";n._=function(e){return e&&e.__esModule?e:{default:e}}},76379,(e,t,n)=>{"use strict";t.exports=["chrome 111","edge 111","firefox 111","safari 16.4"]},29454,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={UNDERSCORE_GLOBAL_ERROR_ROUTE:function(){return o},UNDERSCORE_GLOBAL_ERROR_ROUTE_ENTRY:function(){return u},UNDERSCORE_NOT_FOUND_ROUTE:function(){return s},UNDERSCORE_NOT_FOUND_ROUTE_ENTRY:function(){return a}};for(var i in r)Object.defineProperty(n,i,{enumerable:!0,get:r[i]});let s="/_not-found",a=`${s}/page`,o="/_global-error",u=`${o}/page`},70351,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i={APP_CLIENT_INTERNALS:function(){return et},APP_PATHS_MANIFEST:function(){return v},APP_PATH_ROUTES_MANIFEST:function(){return T},AdapterOutputType:function(){return l},BARREL_OPTIMIZATION_PREFIX:function(){return z},BLOCKED_PAGES:function(){return G},BUILD_ID_FILE:function(){return F},BUILD_MANIFEST:function(){return y},CLIENT_PUBLIC_FILES_PATH:function(){return j},CLIENT_REFERENCE_MANIFEST:function(){return W},CLIENT_STATIC_FILES_PATH:function(){return V},CLIENT_STATIC_FILES_RUNTIME_MAIN:function(){return Q},CLIENT_STATIC_FILES_RUNTIME_MAIN_APP:function(){return ee},CLIENT_STATIC_FILES_RUNTIME_POLYFILLS:function(){return ei},CLIENT_STATIC_FILES_RUNTIME_POLYFILLS_SYMBOL:function(){return es},CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH:function(){return en},CLIENT_STATIC_FILES_RUNTIME_WEBPACK:function(){return er},COMPILER_INDEXES:function(){return c},COMPILER_NAMES:function(){return u},CONFIG_FILES:function(){return $},DEFAULT_RUNTIME_WEBPACK:function(){return ea},DEFAULT_SANS_SERIF_FONT:function(){return ep},DEFAULT_SERIF_FONT:function(){return el},DEV_CLIENT_MIDDLEWARE_MANIFEST:function(){return x},DEV_CLIENT_PAGES_MANIFEST:function(){return w},DYNAMIC_CSS_MANIFEST:function(){return Z},EDGE_RUNTIME_WEBPACK:function(){return eo},EDGE_UNSUPPORTED_NODE_APIS:function(){return eg},EXPORT_DETAIL:function(){return O},EXPORT_MARKER:function(){return b},FUNCTIONS_CONFIG_MANIFEST:function(){return R},IMAGES_MANIFEST:function(){return L},INTERCEPTION_ROUTE_REWRITE_MANIFEST:function(){return X},MIDDLEWARE_BUILD_MANIFEST:function(){return K},MIDDLEWARE_MANIFEST:function(){return D},MIDDLEWARE_REACT_LOADABLE_MANIFEST:function(){return J},MODERN_BROWSERSLIST_TARGET:function(){return a.default},NEXT_BUILTIN_DOCUMENT:function(){return H},NEXT_FONT_MANIFEST:function(){return I},PAGES_MANIFEST:function(){return E},PHASE_ANALYZE:function(){return d},PHASE_DEVELOPMENT_SERVER:function(){return h},PHASE_EXPORT:function(){return p},PHASE_INFO:function(){return m},PHASE_PRODUCTION_BUILD:function(){return f},PHASE_PRODUCTION_SERVER:function(){return _},PHASE_TEST:function(){return g},PRERENDER_MANIFEST:function(){return C},REACT_LOADABLE_MANIFEST:function(){return B},ROUTES_MANIFEST:function(){return N},RSC_MODULE_TYPES:function(){return eh},SERVER_DIRECTORY:function(){return k},SERVER_FILES_MANIFEST:function(){return P},SERVER_PROPS_ID:function(){return ec},SERVER_REFERENCE_MANIFEST:function(){return q},STATIC_PROPS_ID:function(){return eu},STATIC_STATUS_PAGES:function(){return ed},STRING_LITERAL_DROP_BUNDLE:function(){return Y},SUBRESOURCE_INTEGRITY_MANIFEST:function(){return A},SYSTEM_ENTRYPOINTS:function(){return em},TRACE_OUTPUT_VERSION:function(){return ef},TURBOPACK_CLIENT_BUILD_MANIFEST:function(){return U},TURBOPACK_CLIENT_MIDDLEWARE_MANIFEST:function(){return M},TURBO_TRACE_DEFAULT_MEMORY_LIMIT:function(){return e_},UNDERSCORE_GLOBAL_ERROR_ROUTE:function(){return o.UNDERSCORE_GLOBAL_ERROR_ROUTE},UNDERSCORE_GLOBAL_ERROR_ROUTE_ENTRY:function(){return o.UNDERSCORE_GLOBAL_ERROR_ROUTE_ENTRY},UNDERSCORE_NOT_FOUND_ROUTE:function(){return o.UNDERSCORE_NOT_FOUND_ROUTE},UNDERSCORE_NOT_FOUND_ROUTE_ENTRY:function(){return o.UNDERSCORE_NOT_FOUND_ROUTE_ENTRY},WEBPACK_STATS:function(){return S}};for(var s in i)Object.defineProperty(n,s,{enumerable:!0,get:i[s]});let a=e.r(6768)._(e.r(76379)),o=e.r(29454),u={client:"client",server:"server",edgeServer:"edge-server"},c={[u.client]:0,[u.server]:1,[u.edgeServer]:2};var l=((r={}).PAGES="PAGES",r.PAGES_API="PAGES_API",r.APP_PAGE="APP_PAGE",r.APP_ROUTE="APP_ROUTE",r.PRERENDER="PRERENDER",r.STATIC_FILE="STATIC_FILE",r.MIDDLEWARE="MIDDLEWARE",r);let p="phase-export",d="phase-analyze",f="phase-production-build",_="phase-production-server",h="phase-development-server",g="phase-test",m="phase-info",E="pages-manifest.json",S="webpack-stats.json",v="app-paths-manifest.json",T="app-path-routes-manifest.json",y="build-manifest.json",R="functions-config-manifest.json",A="subresource-integrity-manifest",I="next-font-manifest",b="export-marker.json",O="export-detail.json",C="prerender-manifest.json",N="routes-manifest.json",L="images-manifest.json",P="required-server-files",w="_devPagesManifest.json",D="middleware-manifest.json",M="_clientMiddlewareManifest.json",U="client-build-manifest.json",x="_devMiddlewareManifest.json",B="react-loadable-manifest.json",k="server",$=["next.config.js","next.config.mjs","next.config.ts",...process?.features?.typescript?["next.config.mts"]:[]],F="BUILD_ID",G=["/_document","/_app","/_error"],j="public",V="static",Y="__NEXT_DROP_CLIENT_FILE__",H="__NEXT_BUILTIN_DOCUMENT__",z="__barrel_optimize__",W="client-reference-manifest",q="server-reference-manifest",K="middleware-build-manifest",J="middleware-react-loadable-manifest",X="interception-route-rewrite-manifest",Z="dynamic-css-manifest",Q="main",ee=`${Q}-app`,et="app-pages-internals",en="react-refresh",er="webpack",ei="polyfills",es=Symbol(ei),ea="webpack-runtime",eo="edge-runtime-webpack",eu="__N_SSG",ec="__N_SSP",el={name:"Times New Roman",xAvgCharWidth:821,azAvgWidth:854.3953488372093,unitsPerEm:2048},ep={name:"Arial",xAvgCharWidth:904,azAvgWidth:934.5116279069767,unitsPerEm:2048},ed=["/500"],ef=1,e_=6e3,eh={client:"client",server:"server"},eg=["clearImmediate","setImmediate","BroadcastChannel","ByteLengthQueuingStrategy","CompressionStream","CountQueuingStrategy","DecompressionStream","DomException","MessageChannel","MessageEvent","MessagePort","ReadableByteStreamController","ReadableStreamBYOBRequest","ReadableStreamDefaultController","TransformStreamDefaultController","WritableStreamDefaultController"],em=new Set([Q,en,ee]);("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},80975,(e,t,n)=>{t.exports=e.r(70351)},29558,e=>{"use strict";let t,n,r,i,s;function a(e){return Symbol.for(e)}var o,u,c,l,p,d,f,_,h,g,m,E,S,v,T,y,R,A,I,b=new function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var i=new e(n._currentContext);return i._currentContext.set(t,r),i},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}},O=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a},C=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},N=function(){function e(){}return e.prototype.active=function(){return b},e.prototype.with=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return t.call.apply(t,C([n],O(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),L="object"==typeof globalThis?globalThis:"object"==typeof self?self:e.g,P="1.9.0",w=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,D=function(e){var t=new Set([e]),n=new Set,r=e.match(w);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=i.prerelease)return function(t){return t===e};function s(e){return n.add(e),!1}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(w);if(!r)return s(e);var a={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=a.prerelease||i.major!==a.major)return s(e);if(0===i.major)return i.minor===a.minor&&i.patch<=a.patch?(t.add(e),!0):s(e);return i.minor<=a.minor?(t.add(e),!0):s(e)}}(P),M=Symbol.for("opentelemetry.js.api."+P.split(".")[0]);function U(e,t,n,r){void 0===r&&(r=!1);var i,s=L[M]=null!=(i=L[M])?i:{version:P};if(!r&&s[e]){var a=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(a.stack||a.message),!1}if(s.version!==P){var a=Error("@opentelemetry/api: Registration of version v"+s.version+" for "+e+" does not match previously registered API v"+P);return n.error(a.stack||a.message),!1}return s[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+P+"."),!0}function x(e){var t,n,r=null==(t=L[M])?void 0:t.version;if(r&&D(r))return null==(n=L[M])?void 0:n[e]}function B(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+P+".");var n=L[M];n&&delete n[e]}var k=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a},$=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},F=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return G("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return G("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return G("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return G("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return G("verbose",this._namespace,e)},e}();function G(e,t,n){var r=x("diag");if(r)return n.unshift(t),r[e].apply(r,$([],k(n),!1))}(g=o||(o={}))[g.NONE=0]="NONE",g[g.ERROR=30]="ERROR",g[g.WARN=50]="WARN",g[g.INFO=60]="INFO",g[g.DEBUG=70]="DEBUG",g[g.VERBOSE=80]="VERBOSE",g[g.ALL=9999]="ALL";var j=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a},V=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Y=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=x("diag");if(r)return r[e].apply(r,V([],j(t),!1))}}var t=this;t.setLogger=function(e,n){if(void 0===n&&(n={logLevel:o.INFO}),e===t){var r,i,s,a=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(r=a.stack)?r:a.message),!1}"number"==typeof n&&(n={logLevel:n});var u=x("diag"),c=function(e,t){function n(n,r){var i=t[n];return"function"==typeof i&&e>=r?i.bind(t):function(){}}return e<o.NONE?e=o.NONE:e>o.ALL&&(e=o.ALL),t=t||{},{error:n("error",o.ERROR),warn:n("warn",o.WARN),info:n("info",o.INFO),debug:n("debug",o.DEBUG),verbose:n("verbose",o.VERBOSE)}}(null!=(i=n.logLevel)?i:o.INFO,e);if(u&&!n.suppressOverrideMessage){var l=null!=(s=Error().stack)?s:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+l),c.warn("Current logger will overwrite one already registered from "+l)}return U("diag",c,t,!0)},t.disable=function(){B("diag",t)},t.createComponentLogger=function(e){return new F(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),H=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a},z=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},W="context",q=new N,K=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return U(W,e,Y.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return(r=this._getContextManager()).with.apply(r,z([e,t,n],H(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return x(W)||q},e.prototype.disable=function(){this._getContextManager().disable(),B(W,Y.instance())},e}(),J=K.getInstance(),X=e.i(61925),Z=e.i(86730),Q=e.i(28406),ee=e.i(87236);let et={},en={};function er(e,t){et[e]=et[e]||[],et[e].push(t)}function ei(e,t){if(!en[e]){en[e]=!0;try{t()}catch(t){X.DEBUG_BUILD&&Q.debug.error(`Error while instrumenting ${e}`,t)}}}function es(e,t){let n=e&&et[e];if(n)for(let r of n)try{r(t)}catch(t){X.DEBUG_BUILD&&Q.debug.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${(0,ee.getFunctionName)(r)}
Error:`,t)}}let ea=null;function eo(){ea=Z.GLOBAL_OBJ.onerror,Z.GLOBAL_OBJ.onerror=function(e,t,n,r,i){return es("error",{column:r,error:i,line:n,msg:e,url:t}),!!ea&&ea.apply(this,arguments)},Z.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}let eu=null;function ec(){eu=Z.GLOBAL_OBJ.onunhandledrejection,Z.GLOBAL_OBJ.onunhandledrejection=function(e){return es("unhandledrejection",e),!eu||eu.apply(this,arguments)},Z.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var el=e.i(80913),ep=e.i(11186);let ed=!1;function ef(){if(!ed){let t,n;e.tag="sentry_tracingErrorCallback",ed=!0,er(t="error",e),ei(t,eo),er(n="unhandledrejection",e),ei(n,ec)}function e(){let e=(0,el.getActiveSpan)(),t=e&&(0,el.getRootSpan)(e);if(t){let e="internal_error";X.DEBUG_BUILD&&Q.debug.log(`[Tracing] Root span: ${e} -> Global error occurred`),t.setStatus({code:ep.SPAN_STATUS_ERROR,message:e})}}}var e_=e.i(87998);function eh(e,t,n=[t],r="npm"){let i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(e=>({name:`${r}:@sentry/${e}`,version:e_.SDK_VERSION})),version:e_.SDK_VERSION}),e._metadata=i}var eg=e.i(33869),em=e.i(45563),eE=e.i(79732);function eS(e){return"isRelative"in e}function ev(e,t){let n=0>=e.indexOf("://")&&0!==e.indexOf("//"),r=t??(n?"thismessage:/":void 0);try{if("canParse"in URL&&!URL.canParse(e,r))return;let t=new URL(e,r);if(n)return{isRelative:n,pathname:t.pathname,search:t.search,hash:t.hash};return t}catch{}}function eT(e){if(eS(e))return e.pathname;let t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function ey(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function eR(e){return e.split(/[?#]/,1)[0]}function eA(e){let{protocol:t,host:n,path:r}=e,i=n?.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${t?`${t}://`:""}${i}${r}`}function eI(e,t=!0){if(e.startsWith("data:")){let n=e.match(/^data:([^;,]+)/),r=n?n[1]:"text/plain",i=e.includes(";base64,"),s=e.indexOf(","),a="";if(t&&-1!==s){let t=e.slice(s+1);a=t.length>10?`${t.slice(0,10)}... [truncated]`:t}return`data:${r}${i?",base64":""}${a?`,${a}`:""}`}return e}let eb="telemetry.sdk.language",eO="telemetry.sdk.name",eC="telemetry.sdk.version";var eN=e.i(88835);function eL(e,t){var n,r,i,s;let a,o=t?.getDsn(),u=t?.getOptions().tunnel;return n=e,r=o,!(!(a=ev(n))||eS(a))&&!!r&&a.host.includes(r.host)&&/(^|&|\?)sentry_key=/.test(a.search)||(i=e,!!(s=u)&&eP(i)===eP(s))}function eP(e){return"/"===e[e.length-1]?e.slice(0,-1):e}var ew=e.i(9353),eD=e.i(99834);class eM{constructor(e){this._maxSize=e,this._cache=new Map}get size(){return this._cache.size}get(e){let t=this._cache.get(e);if(void 0!==t)return this._cache.delete(e),this._cache.set(e,t),t}set(e,t){if(this._cache.size>=this._maxSize){let e=this._cache.keys().next().value;this._cache.delete(e)}this._cache.set(e,t)}remove(e){let t=this._cache.get(e);return t&&this._cache.delete(e),t}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){let e=[];return this._cache.forEach(t=>e.push(t)),e}}var eU=e.i(94332),ex=e.i(67994),eB=e.i(37616),ek=e.i(45046),e$=e.i(62991),eF=e.i(77299),eG=e.i(4352),eG=eG,ej=e.i(15092),eV=e.i(50055),eY=e.i(30847),eH=e.i(84421),ez=eG,eW=e.i(77834);(m=u||(u={}))[m.NONE=0]="NONE",m[m.SAMPLED=1]="SAMPLED";var eq="0000000000000000",eK="00000000000000000000000000000000",eJ={traceId:eK,spanId:eq,traceFlags:u.NONE},eX=function(){function e(e){void 0===e&&(e=eJ),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),eZ=a("OpenTelemetry Context Key SPAN");function eQ(e){return e.getValue(eZ)||void 0}function e0(){return eQ(K.getInstance().active())}function e1(e,t){return e.setValue(eZ,t)}function e2(e){return e.deleteValue(eZ)}function e4(e,t){return e1(e,new eX(t))}function e5(e){var t;return null==(t=eQ(e))?void 0:t.spanContext()}var e3=/^([0-9a-f]{32})$/i,e9=/^[0-9a-f]{16}$/i;function e8(e){return e3.test(e)&&e!==eK}function e6(e){var t;return e8(e.traceId)&&(t=e.spanId,e9.test(t)&&t!==eq)}function e7(e){return new eX(e)}var te=K.getInstance(),tt=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=te.active()),null==t?void 0:t.root)return new eX;var r,i=n&&e5(n);return"object"==typeof(r=i)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&e6(i)?new eX(i):new eX},e.prototype.startActiveSpan=function(e,t,n,r){if(!(arguments.length<2)){2==arguments.length?a=t:3==arguments.length?(i=t,a=n):(i=t,s=n,a=r);var i,s,a,o=null!=s?s:te.active(),u=this.startSpan(e,i,o),c=e1(o,u);return te.with(c,a,void 0,u)}},e}(),tn=new tt,tr=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):tn},e}(),ti=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new tt},e}()),ts=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var r;return null!=(r=this.getDelegateTracer(e,t,n))?r:new tr(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!=(e=this._delegate)?e:ti},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null==(r=this._delegate)?void 0:r.getTracer(e,t,n)},e}(),ta="trace",to=(function(){function e(){this._proxyTracerProvider=new ts,this.wrapSpanContext=e7,this.isSpanContextValid=e6,this.deleteSpan=e2,this.getSpan=eQ,this.getActiveSpan=e0,this.getSpanContext=e5,this.setSpan=e1,this.setSpanContext=e4}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=U(ta,this._proxyTracerProvider,Y.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return x(ta)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){B(ta,Y.instance()),this._proxyTracerProvider=new ts},e})().getInstance();(E=c||(c={}))[E.INTERNAL=0]="INTERNAL",E[E.SERVER=1]="SERVER",E[E.CLIENT=2]="CLIENT",E[E.PRODUCER=3]="PRODUCER",E[E.CONSUMER=4]="CONSUMER";var tu=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),tc={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},tl={set:function(e,t,n){null!=e&&(e[t]=n)}},tp=a("OpenTelemetry Baggage Key");function td(e){return e.getValue(tp)||void 0}function tf(){return td(K.getInstance().active())}function t_(e,t){return e.setValue(tp,t)}function th(e){return e.deleteValue(tp)}var tg=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a},tm=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tE=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=tg(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=new e(this._entries);try{for(var a=tm(r),o=a.next();!o.done;o=a.next()){var u=o.value;s._entries.delete(u)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s},e.prototype.clear=function(){return new e},e}(),tS=Symbol("BaggageEntryMetadata"),tv=Y.instance();function tT(e){return void 0===e&&(e={}),new tE(new Map(Object.entries(e)))}var ty="propagation",tR=new tu,tA=(function(){function e(){this.createBaggage=tT,this.getBaggage=td,this.getActiveBaggage=tf,this.setBaggage=t_,this.deleteBaggage=th}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return U(ty,e,Y.instance())},e.prototype.inject=function(e,t,n){return void 0===n&&(n=tl),this._getGlobalPropagator().inject(e,t,n)},e.prototype.extract=function(e,t,n){return void 0===n&&(n=tc),this._getGlobalPropagator().extract(e,t,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){B(ty,Y.instance())},e.prototype._getGlobalPropagator=function(){return x(ty)||tR},e})().getInstance();(S=l||(l={}))[S.UNSET=0]="UNSET",S[S.OK=1]="OK",S[S.ERROR=2]="ERROR";let tI="[_0-9a-z-*/]",tb=`[a-z]${tI}{0,255}`,tO=`[a-z0-9]${tI}{0,240}@[a-z]${tI}{0,13}`,tC=RegExp(`^(?:${tb}|${tO})$`),tN=/^[ -~]{0,255}[!-~]$/,tL=/,|=/;class tP{_internalState=new Map;constructor(e){e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let n=t.trim(),r=n.indexOf("=");if(-1!==r){let i=n.slice(0,r),s=n.slice(r+1,t.length);tC.test(i)&&tN.test(s)&&!tL.test(s)&&e.set(i,s)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new tP;return e._internalState=new Map(this._internalState),e}}a("OpenTelemetry SDK Context Key SUPPRESS_TRACING");(v=p||(p={}))[v.NOT_RECORD=0]="NOT_RECORD",v[v.RECORD=1]="RECORD",v[v.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED";let tw=a("sentry_scopes");a("sentry_fork_isolation_scope"),a("sentry_fork_set_scope"),a("sentry_fork_set_isolation_scope");"u"<typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var tD=e.i(51615),tM=e.i(79989),tU=e.i(70745),tx=e.i(6607),tB=e.i(76714);let tk=[];function t$(e,t){for(let n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function tF(e,t,n){if(n[t.name]){X.DEBUG_BUILD&&Q.debug.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,tk.includes(t.name)||"function"!=typeof t.setupOnce||(t.setupOnce(),tk.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){let n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>n(t,r,e))}if("function"==typeof t.processEvent){let n=t.processEvent.bind(t),r=Object.assign((t,r)=>n(t,r,e),{id:t.name});e.addEventProcessor(r)}X.DEBUG_BUILD&&Q.debug.log(`Integration installed: ${t.name}`)}var tG=e.i(98979),tj=e.i(83490);e.i(82809),e.i(7985);var tV=e.i(93714);function tY(e,t){var n,r,i,s;let a,o=t??(s=e,tH().get(s))??[];if(0===o.length)return;let u=e.getOptions(),c=(n=u._metadata,r=u.tunnel,i=e.getDsn(),a={},n?.sdk&&(a.sdk={name:n.sdk.name,version:n.sdk.version}),r&&i&&(a.dsn=(0,tM.dsnToString)(i)),(0,tU.createEnvelope)(a,[[{type:"log",item_count:o.length,content_type:"application/vnd.sentry.items.log+json"},{items:o}]]));tH().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(c)}function tH(){return(0,tG.getGlobalSingleton)("clientToLogBufferMap",()=>new WeakMap)}function tz(e,t){var n,r,i,s;let a,o=t??(s=e,tW().get(s))??[];if(0===o.length)return;let u=e.getOptions(),c=(n=u._metadata,r=u.tunnel,i=e.getDsn(),a={},n?.sdk&&(a.sdk={name:n.sdk.name,version:n.sdk.version}),r&&i&&(a.dsn=(0,tM.dsnToString)(i)),(0,tU.createEnvelope)(a,[[{type:"trace_metric",item_count:o.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:o}]]));tW().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(c)}function tW(){return(0,tG.getGlobalSingleton)("clientToMetricBufferMap",()=>new WeakMap)}var tq=e.i(15844),tK=e.i(43376);let tJ=Symbol.for("SentryBufferFullError");function tX(e=100){let t=new Set;return{get $(){return Array.from(t)},add:function(n){if(!(t.size<e))return(0,tK.rejectedSyncPromise)(tJ);let r=n();return t.add(r),r.then(()=>{t.delete(r)},()=>{t.delete(r)}),r},drain:function(e){if(!t.size)return(0,tK.resolvedSyncPromise)(!0);let n=Promise.allSettled(Array.from(t)).then(()=>!0);return e?Promise.race([n,new Promise(t=>setTimeout(()=>t(!1),e))]):n}}}var tZ=eG;function tQ(e){let t=[];e.message&&t.push(e.message);try{let n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}var t0=e.i(43205),t1=e.i(34907),t2=e.i(37195),t4=eG,t5=e.i(53771);let t3="Not capturing exception because it's already been captured.",t9="Discarded session because of missing or non-string release",t8=Symbol.for("SentryInternalError"),t6=Symbol.for("SentryDoNotSendEventError");function t7(e){return{message:e,[t8]:!0}}function ne(e){return{message:e,[t6]:!0}}function nt(e){return!!e&&"object"==typeof e&&t8 in e}function nn(e){return!!e&&"object"==typeof e&&t6 in e}function nr(e,t,n,r,i){let s,a=0,o=!1;e.on(n,()=>{a=0,clearTimeout(s),o=!1}),e.on(t,t=>{(a+=r(t))>=8e5?i(e):o||(o=!0,s=setTimeout(()=>{i(e)},5e3))}),e.on("flush",()=>{i(e)})}class ni{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=tX(e.transportOptions?.bufferSize??64),e.dsn?this._dsn=(0,tM.makeDsn)(e.dsn):X.DEBUG_BUILD&&Q.debug.warn("No DSN provided, client will not send events."),this._dsn){const t=function(e,t,n){let r,i,s;return t||`${r=e.protocol?`${e.protocol}:`:"",i=e.port?`:${e.port}`:"",`${r}//${e.host}${i}${e.path?`/${e.path}`:""}/api/`}${e.projectId}/envelope/?${s={sentry_version:"7"},e.publicKey&&(s.sentry_key=e.publicKey),n&&(s.sentry_client=`${n.name}/${n.version}`),new URLSearchParams(s).toString()}`}(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}this._options.enableLogs=this._options.enableLogs??this._options._experiments?.enableLogs,this._options.enableLogs&&nr(this,"afterCaptureLog","flushLogs",nc,tY),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&nr(this,"afterCaptureMetric","flushMetrics",nu,tz)}captureException(e,t,n){let r=(0,t1.uuid4)();if((0,t1.checkOrSetAlreadyCaught)(e))return X.DEBUG_BUILD&&Q.debug.log(t3),r;let i={event_id:r,...t};return this._process(()=>this.eventFromException(e,i).then(e=>this._captureEvent(e,i,n)).then(e=>e),"error"),i.event_id}captureMessage(e,t,n,r){let i={event_id:(0,t1.uuid4)(),...n},s=(0,tj.isParameterizedString)(e)?e:String(e),a=(0,tj.isPrimitive)(e),o=a?this.eventFromMessage(s,t,i):this.eventFromException(e,i);return this._process(()=>o.then(e=>this._captureEvent(e,i,r)),a?"unknown":"error"),i.event_id}captureEvent(e,t,n){let r=(0,t1.uuid4)();if(t?.originalException&&(0,t1.checkOrSetAlreadyCaught)(t.originalException))return X.DEBUG_BUILD&&Q.debug.log(t3),r;let i={event_id:r,...t},s=e.sdkProcessingMetadata||{},a=s.capturedSpanScope,o=s.capturedSpanIsolationScope,u=ns(e.type);return this._process(()=>this._captureEvent(e,i,a||n,o),u),i.event_id}captureSession(e){this.sendSession(e),(0,tq.updateSession)(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){let t=this._transport;if(!t)return!0;this.emit("flush");let n=await this._isClientDoneProcessing(e),r=await t.flush(e);return n&&r}async close(e){let t=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),t}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let t=this._integrations[e.name];tF(this,e,this._integrations),t||t$(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=(0,tB.createEventEnvelope)(e,this._dsn,this._options._metadata,this._options.tunnel);for(let e of t.attachments||[])n=(0,tU.addItemToEnvelope)(n,(0,tU.createAttachmentEnvelopeItem)(e));this.sendEnvelope(n).then(t=>this.emit("afterSendEvent",e,t))}sendSession(e){let{release:t,environment:n=tx.DEFAULT_ENVIRONMENT}=this._options;if("aggregates"in e){let r=e.attrs||{};if(!r.release&&!t){X.DEBUG_BUILD&&Q.debug.warn(t9);return}r.release=r.release||t,r.environment=r.environment||n,e.attrs=r}else{if(!e.release&&!t){X.DEBUG_BUILD&&Q.debug.warn(t9);return}e.release=e.release||t,e.environment=e.environment||n}this.emit("beforeSendSession",e);let r=(0,tB.createSessionEnvelope)(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,t,n=1){if(this._options.sendClientReports){let r=`${e}:${t}`;X.DEBUG_BUILD&&Q.debug.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){let n=this._hooks[e]=this._hooks[e]||new Set,r=(...e)=>t(...e);return n.add(r),()=>{n.delete(r)}}emit(e,...t){let n=this._hooks[e];n&&n.forEach(e=>e(...t))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(e){return X.DEBUG_BUILD&&Q.debug.error("Error while sending envelope:",e),{}}return X.DEBUG_BUILD&&Q.debug.error("Transport disabled"),{}}_setupIntegrations(){var e;let t,{integrations:n}=this._options;this._integrations=(e=this,t={},n.forEach(n=>{n&&tF(e,n,t)}),t),t$(this,n)}_updateSessionFromEvent(e,t){let n="fatal"===t.level,r=!1,i=t.exception?.values;if(i){for(let e of(r=!0,n=!1,i))if(e.mechanism?.handled===!1){n=!0;break}}let s="ok"===e.status;(s&&0===e.errors||s&&n)&&((0,tq.updateSession)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}async _isClientDoneProcessing(e){let t=0;for(;!e||t<e;){if(await new Promise(e=>setTimeout(e,1)),!this._numProcessing)return!0;t++}return!1}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r){let i=this.getOptions(),s=Object.keys(this._integrations);return!t.integrations&&s?.length&&(t.integrations=s),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),(0,t2.prepareEvent)(i,e,t,n,this,r).then(e=>(null===e||(this.emit("postprocessEvent",e,t),e.contexts={trace:(0,eE.getTraceContextFromScope)(n),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:(0,eB.getDynamicSamplingContextFromScope)(this,n),...e.sdkProcessingMetadata}),e))}_captureEvent(e,t={},n=(0,eE.getCurrentScope)(),r=(0,eE.getIsolationScope)()){return X.DEBUG_BUILD&&na(e)&&Q.debug.log(`Captured error event \`${tQ(e)[0]||"<unknown>"}\``),this._processEvent(e,t,n,r).then(e=>e.event_id,e=>{X.DEBUG_BUILD&&(nn(e)?Q.debug.log(e.message):nt(e)?Q.debug.warn(e.message):Q.debug.warn(e))})}_processEvent(e,t,n,r){let i=this.getOptions(),{sampleRate:s}=i,a=no(e),o=na(e),u=e.type||"error",c=`before send for type \`${u}\``,l=void 0===s?void 0:(0,eH.parseSampleRate)(s);if(o&&"number"==typeof l&&(0,t4.safeMathRandom)()>l)return this.recordDroppedEvent("sample_rate","error"),(0,tK.rejectedSyncPromise)(ne(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));let p=ns(e.type);return this._prepareEvent(e,t,n,r).then(e=>{if(null===e)throw this.recordDroppedEvent("event_processor",p),ne("An event processor returned `null`, will not send event.");return t.data&&!0===t.data.__sentry__?e:function(e,t){let n=`${t} must return \`null\` or a valid event.`;if((0,tj.isThenable)(e))return e.then(e=>{if(!(0,tj.isPlainObject)(e)&&null!==e)throw t7(n);return e},e=>{throw t7(`${t} rejected with ${e}`)});if(!(0,tj.isPlainObject)(e)&&null!==e)throw t7(n);return e}(function(e,t,n,r){let{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:a,ignoreSpans:o}=t,u=n;if(na(u)&&i)return i(u,r);if(no(u)){if(a||o){let t=function(e){let{trace_id:t,parent_span_id:n,span_id:r,status:i,origin:s,data:a,op:o}=e.contexts?.trace??{};return{data:a??{},description:e.transaction,op:o,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:s,profile_id:a?.[eg.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:a?.[eg.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:e.measurements,is_segment:!0}}(u);if(o?.length&&(0,t5.shouldIgnoreSpan)(t,o))return null;if(a){let e=a(t);if(e)u=(0,t0.merge)(n,{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[eg.SEMANTIC_ATTRIBUTE_PROFILE_ID]:e.profile_id},...e.exclusive_time&&{[eg.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:e.exclusive_time}}}},measurements:e.measurements});else(0,el.showSpanDropWarning)()}if(u.spans){let t=[],n=u.spans;for(let e of n){if(o?.length&&(0,t5.shouldIgnoreSpan)(e,o)){(0,t5.reparentChildSpans)(n,e);continue}if(a){let n=a(e);n?t.push(n):((0,el.showSpanDropWarning)(),t.push(e))}else t.push(e)}let r=u.spans.length-t.length;r&&e.recordDroppedEvent("before_send","span",r),u.spans=t}}if(s){if(u.spans){let e=u.spans.length;u.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return s(u,r)}}return u}(this,i,e,t),c)}).then(i=>{if(null===i){if(this.recordDroppedEvent("before_send",p),a){let t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw ne(`${c} returned \`null\`, will not send event.`)}let s=n.getSession()||r.getSession();if(o&&s&&this._updateSessionFromEvent(s,i),a){let e=(i.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(i.spans?i.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}let u=i.transaction_info;return a&&u&&i.transaction!==e.transaction&&(i.transaction_info={...u,source:"custom"}),this.sendEvent(i,t),i}).then(null,e=>{if(nn(e)||nt(e))throw e;throw this.captureException(e,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:e}),t7(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${e}`)})}_process(e,t){this._numProcessing++,this._promiseBuffer.add(e).then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e===tJ&&this.recordDroppedEvent("queue_overflow",t),e))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([e,t])=>{let[n,r]=e.split(":");return{reason:n,category:r,quantity:t}})}_flushOutcomes(){var e;let t;X.DEBUG_BUILD&&Q.debug.log("Flushing outcomes...");let n=this._clearOutcomes();if(0===n.length){X.DEBUG_BUILD&&Q.debug.log("No outcomes to send");return}if(!this._dsn){X.DEBUG_BUILD&&Q.debug.log("No dsn provided, will not send outcomes");return}X.DEBUG_BUILD&&Q.debug.log("Sending outcomes:",n);let r=(e=this._options.tunnel&&(0,tM.dsnToString)(this._dsn),t=[{type:"client_report"},{timestamp:(0,tV.dateTimestampInSeconds)(),discarded_events:n}],(0,tU.createEnvelope)(e?{dsn:e}:{},[t]));this.sendEnvelope(r)}}function ns(e){return"replay_event"===e?"replay":e||"error"}function na(e){return void 0===e.type}function no(e){return"transaction"===e.type}function nu(e){let t=0;return e.name&&(t+=2*e.name.length),(t+=8)+nl(e.attributes)}function nc(e){let t=0;return e.message&&(t+=2*e.message.length),t+nl(e.attributes)}function nl(e){if(!e)return 0;let t=0;return Object.values(e).forEach(e=>{Array.isArray(e)?t+=e.length*np(e[0]):(0,tj.isPrimitive)(e)?t+=np(e):t+=100}),t}function np(e){return"string"==typeof e?2*e.length:"number"==typeof e?8:4*("boolean"==typeof e)}var nd=e.i(46208);function nf(e,t){return e(t.stack||"",1)}function n_(e,t){let n={type:t.name||t.constructor.name,value:(0,tj.isError)(t)&&"__sentry_fetch_url_host__"in t&&"string"==typeof t.__sentry_fetch_url_host__?`${t.message} (${t.__sentry_fetch_url_host__})`:t.message},r=nf(e,t);return r.length&&(n.stacktrace={frames:r}),n}class nh extends ni{constructor(e){ef(),function(e){let t=e._metadata?.sdk,n=t?.name&&t?.version?`${t?.name}/${t?.version}`:void 0;e.transportOptions={...e.transportOptions,headers:{...n&&{"user-agent":n},...e.transportOptions?.headers}}}(e),super(e),this._setUpMetricsProcessing()}eventFromException(e,t){let n=function(e,t,n,r){let i=r?.data&&r.data.mechanism||{handled:!0,type:"generic"},[s,a]=function(e,t,n,r){if((0,tj.isError)(n))return[n,void 0];if(t.synthetic=!0,(0,tj.isPlainObject)(n)){let t=e?.getOptions().normalizeDepth,i={__serialized__:(0,nd.normalizeToSize)(n,t)},s=function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}(n);if(s)return[s,i];let a=function(e){if("name"in e&&"string"==typeof e.name){let t=`'${e.name}' captured as exception`;return"message"in e&&"string"==typeof e.message&&(t+=` with message '${e.message}'`),t}if("message"in e&&"string"==typeof e.message)return e.message;let t=(0,eN.extractExceptionKeysForMessage)(e);if((0,tj.isErrorEvent)(e))return`Event \`ErrorEvent\` captured as exception with message \`${e.message}\``;let n=function(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}(e);return`${n&&"Object"!==n?`'${n}'`:"Object"} captured as exception with keys: ${t}`}(n),o=r?.syntheticException||Error(a);return o.message=a,[o,i]}let i=r?.syntheticException||Error(n);return i.message=`${n}`,[i,void 0]}(e,i,n,r),o={exception:{values:[n_(t,s)]}};return a&&(o.extra=a),(0,t1.addExceptionTypeValue)(o,void 0,void 0),(0,t1.addExceptionMechanism)(o,i),{...o,event_id:r?.event_id}}(this,this._options.stackParser,e,t);return n.level="error",(0,tK.resolvedSyncPromise)(n)}eventFromMessage(e,t="info",n){return(0,tK.resolvedSyncPromise)(function(e,t,n="info",r,i){let s={event_id:r?.event_id,level:n};if(i&&r?.syntheticException){let n=nf(e,r.syntheticException);n.length&&(s.exception={values:[{value:t,stacktrace:{frames:n}}]},(0,t1.addExceptionMechanism)(s,{synthetic:!0}))}if((0,tj.isParameterizedString)(t)){let{__sentry_template_string__:e,__sentry_template_values__:n}=t;return s.logentry={message:e,params:n},s}return s.message=t,s}(this._options.stackParser,e,t,n,this._options.attachStacktrace))}captureException(e,t,n){return ng(t),super.captureException(e,t,n)}captureEvent(e,t,n){return!e.type&&e.exception?.values&&e.exception.values.length>0&&ng(t),super.captureEvent(e,t,n)}captureCheckIn(e,t,n){var r,i,s;let a,o,u="checkInId"in e&&e.checkInId?e.checkInId:(0,t1.uuid4)();if(!this._isEnabled())return X.DEBUG_BUILD&&Q.debug.warn("SDK not enabled, will not capture check-in."),u;let{release:c,environment:l,tunnel:p}=this.getOptions(),d={check_in_id:u,monitor_slug:e.monitorSlug,status:e.status,release:c,environment:l};"duration"in e&&(d.duration=e.duration),t&&(d.monitor_config={schedule:t.schedule,checkin_margin:t.checkinMargin,max_runtime:t.maxRuntime,timezone:t.timezone,failure_issue_threshold:t.failureIssueThreshold,recovery_threshold:t.recoveryThreshold});let[f,_]=(r=this,n?(0,eE.withScope)(n,()=>{let e=(0,el.getActiveSpan)(),t=e?(0,el.spanToTraceContext)(e):(0,eE.getTraceContextFromScope)(n);return[e?(0,eB.getDynamicSamplingContextFromSpan)(e):(0,eB.getDynamicSamplingContextFromScope)(r,n),t]}):[void 0,void 0]);_&&(d.contexts={trace:_});let h=(i=this.getSdkMetadata(),s=this.getDsn(),a={sent_at:new Date().toISOString()},i?.sdk&&(a.sdk={name:i.sdk.name,version:i.sdk.version}),p&&s&&(a.dsn=(0,tM.dsnToString)(s)),f&&(a.trace=f),o=[{type:"check_in"},d],(0,tU.createEnvelope)(a,[o]));return X.DEBUG_BUILD&&Q.debug.log("Sending checkin:",e.monitorSlug,e.status),this.sendEnvelope(h),u}_prepareEvent(e,t,n,r){return this._options.platform&&(e.platform=e.platform||this._options.platform),this._options.runtime&&(e.contexts={...e.contexts,runtime:e.contexts?.runtime||this._options.runtime}),this._options.serverName&&(e.server_name=e.server_name||this._options.serverName),super._prepareEvent(e,t,n,r)}_setUpMetricsProcessing(){this.on("processMetric",e=>{this._options.serverName&&(e.attributes={"server.address":this._options.serverName,...e.attributes})})}}function ng(e){let t=(0,eE.getIsolationScope)().getScopeData().sdkProcessingMetadata.requestSession;if(t){let n=e?.mechanism?.handled??!0;n&&"crashed"!==t.status?t.status="errored":n||(t.status="crashed")}}var ez=eG,eG=eG;function nm(e,t){return!!e&&"object"==typeof e&&!!e[t]}function nE(e){return"string"==typeof e?e:e?nm(e,"url")?e.url:e.toString?e.toString():"":""}Z.GLOBAL_OBJ;var nS=e.i(66580),nv=e.i(98617);function nT(e){return e.split(",").some(e=>e.trim().startsWith(ew.SENTRY_BAGGAGE_KEY_PREFIX))}function ny(e,t,n,r){let i={url:eI(e),type:"fetch","http.method":n,[eg.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:r,[eg.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"};return t&&(eS(t)||(i["http.url"]=eI(t.href),i["server.address"]=t.host),t.search&&(i["http.query"]=t.search),t.hash&&(i["http.fragment"]=t.hash)),i}function nR(e,t){let n=(0,eE.getClient)(),r=(0,eE.getIsolationScope)();if(!n)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:s=100}=n.getOptions();if(s<=0)return;let a={timestamp:(0,tV.dateTimestampInSeconds)(),...e},o=i?(0,Q.consoleSandbox)(()=>i(a,t)):a;null!==o&&(n.emit&&n.emit("beforeAddBreadcrumb",o,t),r.addBreadcrumb(o,s))}function nA(e){return parseInt(e||"",10)||void 0}function nI(e,t){let n=(0,ee.getFramesFromEvent)(e),r=(0,ee.getFramesFromEvent)(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let e=0;e<r.length;e++){let t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function nb(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function nO(e){return e.exception?.values?.[0]}let nC=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/];function nN(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:nC],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function nL(e){try{let t=[...e.exception?.values??[]].reverse().find(e=>e.mechanism?.parent_id===void 0&&e.stacktrace?.frames?.length),n=t?.stacktrace?.frames;return n?function(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch{return X.DEBUG_BUILD&&Q.debug.error(`Cannot extract url for event ${(0,t1.getEventDescription)(e)}`),null}}let nP=new WeakMap;function nw(e){return Array.isArray(e.errors)}function nD(e,t,n){e.mechanism={handled:!0,type:"auto.core.linked_errors",...nw(n)&&{is_exception_group:!0},...e.mechanism,exception_id:t}}function nM(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function nU(){"console"in Z.GLOBAL_OBJ&&Q.CONSOLE_LEVELS.forEach(function(e){e in Z.GLOBAL_OBJ.console&&(0,eN.fill)(Z.GLOBAL_OBJ.console,e,function(t){return Q.originalConsoleMethods[e]=t,function(...t){es("console",{args:t,level:e});let n=Q.originalConsoleMethods[e];n?.apply(Z.GLOBAL_OBJ.console,t)}})})}function nx(e){return"util"in Z.GLOBAL_OBJ&&"function"==typeof Z.GLOBAL_OBJ.util.format?Z.GLOBAL_OBJ.util.format(...e):(0,ex.safeJoin)(e," ")}let nB=["X-Client-IP","X-Forwarded-For","Fly-Client-IP","CF-Connecting-IP","Fastly-Client-Ip","True-Client-Ip","X-Real-IP","X-Cluster-Client-IP","X-Forwarded","Forwarded-For","Forwarded","X-Vercel-Forwarded-For"],nk={cookies:!0,data:!0,headers:!0,query_string:!0,url:!0},n$=new Map,nF=new Set(["ai.generateText","ai.streamText","ai.generateObject","ai.streamObject","ai.embed","ai.embedMany"]),nG=new Set(["ai.generateText.doGenerate","ai.streamText.doStream","ai.generateObject.doGenerate","ai.streamObject.doStream"]),nj=new Set(["ai.embed.doEmbed","ai.embedMany.doEmbed"]);(T=d||(d={}))[T.NOT_RECORD=0]="NOT_RECORD",T[T.RECORD=1]="RECORD",T[T.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED";var nV=Y.instance();let nY={[eO]:"opentelemetry","process.runtime.name":"browser",[eb]:"webjs",[eC]:"2.5.0"},nH=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then;class nz{_rawAttributes;_asyncAttributesPending=!1;_schemaUrl;_memoizedAttributes;static FromAttributeList(e,t){let n=new nz({},t);return n._rawAttributes=nK(e),n._asyncAttributesPending=e.filter(([e,t])=>nH(t)).length>0,n}constructor(e,t){const n=e.attributes??{};this._rawAttributes=Object.entries(n).map(([e,t])=>(nH(t)&&(this._asyncAttributesPending=!0),[e,t])),this._rawAttributes=nK(this._rawAttributes),this._schemaUrl=function(e){if("string"==typeof e||void 0===e)return e;nV.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",e)}(t?.schemaUrl)}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(this.asyncAttributesPending){for(let e=0;e<this._rawAttributes.length;e++){let[t,n]=this._rawAttributes[e];this._rawAttributes[e]=[t,nH(n)?await n:n]}this._asyncAttributesPending=!1}}get attributes(){if(this.asyncAttributesPending&&nV.error("Accessing resource attributes before async attributes settled"),this._memoizedAttributes)return this._memoizedAttributes;let e={};for(let[t,n]of this._rawAttributes){if(nH(n)){nV.debug(`Unsettled resource attribute ${t} skipped`);continue}null!=n&&(e[t]??=n)}return this._asyncAttributesPending||(this._memoizedAttributes=e),e}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(e){var t,n;let r,i,s;if(null==e)return this;let a=(t=this,n=e,r=t?.schemaUrl,s=void 0===(i=n?.schemaUrl)||""===i,void 0===r||""===r?i:s||r===i?r:void nV.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',r,i));return nz.FromAttributeList([...e.getRawAttributes(),...this.getRawAttributes()],a?{schemaUrl:a}:void 0)}}function nW(e,t){return nz.FromAttributeList(Object.entries(e),t)}function nq(){return nW({"service.name":function(){if(void 0===n)try{let e=globalThis.process.argv0;n=e?`unknown_service:${e}`:"unknown_service"}catch{n="unknown_service"}return n}(),[eb]:nY[eb],[eO]:nY[eO],[eC]:nY[eC]})}function nK(e){return e.map(([e,t])=>nH(t)?[e,t.catch(t=>{nV.debug("promise rejection for resource attribute: %s - %s",e,t)})]:[e,t])}void 0===globalThis.performance&&(globalThis.performance={timeOrigin:0,now:()=>Date.now()});class nJ extends nh{constructor(e){eh(e,"vercel-edge"),e._metadata=e._metadata||{},super({...e,platform:"javascript",runtime:{name:"vercel-edge"},serverName:e.serverName||process.env.SENTRY_NAME})}async flush(e){let t=this.traceProvider;return await t?.forceFlush(),this.getOptions().sendClientReports&&this._flushOutcomes(),super.flush(e)}}let nX=a("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function nZ(e){return e.setValue(nX,!0)}function nQ(e){return!0===e.getValue(nX)}let n0="baggage";class n1{inject(e,t,n){let r=tA.getBaggage(e);if(!r||nQ(e))return;let i=r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return void 0!==t.metadata&&(n+=";"+t.metadata.toString()),n}).filter(e=>e.length<=4096).slice(0,180).reduce((e,t)=>{let n=`${e}${""!==e?",":""}${t}`;return n.length>8192?e:n},"");i.length>0&&n.set(t,n0,i)}extract(e,t,n){let r=n.get(t,n0),i=Array.isArray(r)?r.join(","):r;if(!i)return e;let s={};return 0===i.length||(i.split(",").forEach(e=>{let t=function(e){let t,n,r;if(!e)return;let i=e.indexOf(";"),s=-1===i?e:e.substring(0,i),a=s.indexOf("=");if(a<=0)return;let o=s.substring(0,a).trim(),u=s.substring(a+1).trim();if(o&&u){try{t=decodeURIComponent(o),n=decodeURIComponent(u)}catch{return}if(-1!==i&&i<e.length-1){var c;"string"!=typeof(c=e.substring(i+1))&&(tv.error("Cannot create baggage metadata from unknown type: "+typeof c),c=""),r={__TYPE__:tS,toString:function(){return c}}}return{key:t,value:n,metadata:r}}}(e);if(t){let e={value:t.value};t.metadata&&(e.metadata=t.metadata),s[t.key]=e}}),0===Object.entries(s).length)?e:tA.setBaggage(e,tA.createBaggage(s))}fields(){return[n0]}}function n2(e){let t={};if("object"!=typeof e||null==e)return t;for(let r in e){var n;if(!Object.prototype.hasOwnProperty.call(e,r))continue;if("string"!=typeof(n=r)||""===n){nV.warn(`Invalid attribute key: ${r}`);continue}let i=e[r];if(!n4(i)){nV.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(i)?t[r]=i.slice():t[r]=i}return t}function n4(e){return null==e||(Array.isArray(e)?function(e){let t;for(let n of e){if(null==n)continue;let e=typeof n;if(e!==t){if(!t&&n5(e)){t=e;continue}return!1}}return!0}(e):n5(typeof e))}function n5(e){switch(e){case"number":case"boolean":case"string":return!0}return!1}function n3(e){try{var t;nV.error((t=e,"string"==typeof t?t:JSON.stringify(function(e){let t={},n=e;for(;null!==n;)Object.getOwnPropertyNames(n).forEach(e=>{if(t[e])return;let r=n[e];r&&(t[e]=String(r))}),n=Object.getPrototypeOf(n);return t}(t))))}catch{}}function n9(e){let t=process.env[e];if(null==t||""===t.trim())return;let n=Number(t);return isNaN(n)?void nV.warn(`Unknown value ${JSON.stringify(t,null,2)} for ${e}, expected a number, using defaults`):n}let n8="http.method",n6="http.url",n7="http.status_code",re="exception.message",rt="exception.type",rn="http.request.method",rr="http.response.status_code",ri="url.full",rs=performance;function ra(e){return[Math.trunc(e/1e3),Math.round(e%1e3*1e6)]}function ro(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function ru(e){return ro(e)||"number"==typeof e||e instanceof Date}function rc(e,t){let n=[e[0]+t[0],e[1]+t[1]];return n[1]>=1e9&&(n[1]-=1e9,n[0]+=1),n}let rl="[_0-9a-z-*/]",rp=`[a-z]${rl}{0,255}`,rd=`[a-z0-9]${rl}{0,240}@[a-z]${rl}{0,13}`,rf=RegExp(`^(?:${rp}|${rd})$`),r_=/^[ -~]{0,255}[!-~]$/,rh=/,|=/;class rg{__init(){this._internalState=new Map}constructor(e){rg.prototype.__init.call(this),e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let n=t.trim(),r=n.indexOf("=");if(-1!==r){let i=n.slice(0,r),s=n.slice(r+1,t.length);rf.test(i)&&r_.test(s)&&!rh.test(s)&&e.set(i,s)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new rg;return e._internalState=new Map(this._internalState),e}}let rm=Function.prototype.toString,rE=rm.call(Object),rS=Object.getPrototypeOf,rv=Object.prototype,rT=rv.hasOwnProperty,ry=Symbol?Symbol.toStringTag:void 0,rR=rv.toString;function rA(e){var t,n,r;if(null==(t=e)||"object"!=typeof t||"[object Object]"!==(null==(n=e)?void 0===n?"[object Undefined]":"[object Null]":ry&&ry in Object(n)?function(e){let t=rT.call(e,ry),n=e[ry],r=!1;try{e[ry]=void 0,r=!0}catch{}let i=rR.call(e);return r&&(t?e[ry]=n:delete e[ry]),i}(n):(r=n,rR.call(r))))return!1;let i=rS(e);if(null===i)return!0;let s=rT.call(i,"constructor")&&i.constructor;return"function"==typeof s&&s instanceof s&&rm.call(s)===rE}function rI(e){return rO(e)?e.slice():e}function rb(e,t,n){let r=n.get(e[t])||[];for(let n=0,i=r.length;n<i;n++){let i=r[n];if(i.key===t&&i.obj===e)return!0}return!1}function rO(e){return Array.isArray(e)}function rC(e){return"function"==typeof e}function rN(e){return!rL(e)&&!rO(e)&&!rC(e)&&"object"==typeof e}function rL(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}class rP{__init(){this.attributes={}}__init2(){this.links=[]}__init3(){this.events=[]}__init4(){this._droppedAttributesCount=0}__init5(){this._droppedEventsCount=0}__init6(){this._droppedLinksCount=0}__init7(){this.status={code:l.UNSET}}__init8(){this.endTime=[0,0]}__init9(){this._ended=!1}__init10(){this._duration=[-1,-1]}constructor(e){rP.prototype.__init.call(this),rP.prototype.__init2.call(this),rP.prototype.__init3.call(this),rP.prototype.__init4.call(this),rP.prototype.__init5.call(this),rP.prototype.__init6.call(this),rP.prototype.__init7.call(this),rP.prototype.__init8.call(this),rP.prototype.__init9.call(this),rP.prototype.__init10.call(this);const t=Date.now();this._spanContext=e.spanContext,this._performanceStartTime=rs.now(),this._performanceOffset=t-(this._performanceStartTime+rs.timeOrigin),this._startTimeProvided=null!=e.startTime,this._spanLimits=e.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=e.spanProcessor,this.name=e.name,this.parentSpanContext=e.parentSpanContext,this.kind=e.kind,this.links=e.links||[],this.startTime=this._getTime(e.startTime??t),this.resource=e.resource,this.instrumentationScope=e.scope,null!=e.attributes&&this.setAttributes(e.attributes),this._spanProcessor.onStart(this,e.context)}spanContext(){return this._spanContext}setAttribute(e,t){if(null==t||this._isSpanEnded())return this;if(0===e.length)return nV.warn(`Invalid attribute key: ${e}`),this;if(!n4(t))return nV.warn(`Invalid attribute value set for key: ${e}`),this;let{attributeCountLimit:n}=this._spanLimits;return void 0!==n&&Object.keys(this.attributes).length>=n&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?this._droppedAttributesCount++:this.attributes[e]=this._truncateToSize(t),this}setAttributes(e){for(let[t,n]of Object.entries(e))this.setAttribute(t,n);return this}addEvent(e,t,n){if(this._isSpanEnded())return this;let{eventCountLimit:r}=this._spanLimits;if(0===r)return nV.warn("No events allowed."),this._droppedEventsCount++,this;void 0!==r&&this.events.length>=r&&(0===this._droppedEventsCount&&nV.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),ru(t)&&(ru(n)||(n=t),t=void 0);let i=n2(t);return this.events.push({name:e,attributes:i,time:this._getTime(n),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()||(this.status={...e},null!=this.status.message&&"string"!=typeof e.message&&(nV.warn(`Dropping invalid status.message of type '${typeof e.message}', expected 'string'`),delete this.status.message)),this}updateName(e){return this._isSpanEnded()||(this.name=e),this}end(e){var t,n;let r,i;this._isSpanEnded()?nV.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`):(this.endTime=this._getTime(e),this._duration=(t=this.startTime,r=(n=this.endTime)[0]-t[0],(i=n[1]-t[1])<0&&(r-=1,i+=1e9),[r,i]),this._duration[0]<0&&(nV.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&nV.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnding&&this._spanProcessor.onEnding(this),this._ended=!0,this._spanProcessor.onEnd(this))}_getTime(e){if("number"==typeof e&&e<=rs.now()){var t;return t=e+this._performanceOffset,rc(ra(rs.timeOrigin),ra("number"==typeof t?t:rs.now()))}if("number"==typeof e)return ra(e);if(e instanceof Date)return ra(e.getTime());if(ro(e))return e;if(this._startTimeProvided)return ra(Date.now());let n=rs.now()-this._performanceStartTime;return rc(this.startTime,ra(n))}isRecording(){return!1===this._ended}recordException(e,t){let n={};"string"==typeof e?n[re]=e:e&&(e.code?n[rt]=e.code.toString():e.name&&(n[rt]=e.name),e.message&&(n[re]=e.message),e.stack&&(n["exception.stacktrace"]=e.stack)),n[rt]||n[re]?this.addEvent("exception",n,t):nV.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){let e=Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);nV.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,e)}return this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substring(0,t)}_truncateToSize(e){let t=this._attributeValueLengthLimit;return t<=0?(nV.warn(`Attribute value limit must be positive, got ${t}`),e):"string"==typeof e?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(e=>"string"==typeof e?this._truncateToLimitUtil(e,t):e):e}}(y=f||(f={}))[y.NOT_RECORD=0]="NOT_RECORD",y[y.RECORD=1]="RECORD",y[y.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED";class rw{shouldSample(){return{decision:f.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}class rD{shouldSample(){return{decision:f.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}class rM{constructor(e){this._root=e.root,this._root||(n3(Error("ParentBasedSampler must have a root sampler configured")),this._root=new rD),this._remoteParentSampled=e.remoteParentSampled??new rD,this._remoteParentNotSampled=e.remoteParentNotSampled??new rw,this._localParentSampled=e.localParentSampled??new rD,this._localParentNotSampled=e.localParentNotSampled??new rw}shouldSample(e,t,n,r,i,s){let a=to.getSpanContext(e);return a&&e6(a)?a.isRemote?a.traceFlags&u.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,r,i,s):this._remoteParentNotSampled.shouldSample(e,t,n,r,i,s):a.traceFlags&u.SAMPLED?this._localParentSampled.shouldSample(e,t,n,r,i,s):this._localParentNotSampled.shouldSample(e,t,n,r,i,s):this._root.shouldSample(e,t,n,r,i,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}class rU{constructor(e=0){this._ratio=this._normalize(e),this._upperBound=Math.floor(0xffffffff*this._ratio)}shouldSample(e,t){return{decision:e8(t)&&this._accumulate(t)<this._upperBound?f.RECORD_AND_SAMPLED:f.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let r=8*n;t=(t^parseInt(e.slice(r,r+8),16))>>>0}return t}}function rx(){return{sampler:rB(),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:n9("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:n9("OTEL_ATTRIBUTE_COUNT_LIMIT")??128},spanLimits:{attributeValueLengthLimit:n9("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:n9("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??128,linkCountLimit:n9("OTEL_SPAN_LINK_COUNT_LIMIT")??128,eventCountLimit:n9("OTEL_SPAN_EVENT_COUNT_LIMIT")??128,attributePerEventCountLimit:n9("OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT")??128,attributePerLinkCountLimit:n9("OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT")??128}}}function rB(){let e=function(e){let t=process.env[e];if(null!=t&&""!==t.trim())return t}("OTEL_TRACES_SAMPLER")??_.ParentBasedAlwaysOn;switch(e){case _.AlwaysOn:return new rD;case _.AlwaysOff:return new rw;case _.ParentBasedAlwaysOn:return new rM({root:new rD});case _.ParentBasedAlwaysOff:return new rM({root:new rw});case _.TraceIdRatio:return new rU(rk());case _.ParentBasedTraceIdRatio:return new rM({root:new rU(rk())});default:return nV.error(`OTEL_TRACES_SAMPLER value "${e}" invalid, defaulting to "${_.ParentBasedAlwaysOn}".`),new rM({root:new rD})}}function rk(){let e=n9("OTEL_TRACES_SAMPLER_ARG");return null==e?(nV.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1):e<0||e>1?(nV.error(`OTEL_TRACES_SAMPLER_ARG=${e} was given, but it is out of range ([0..1]), defaulting to 1.`),1):e}(R=_||(_={})).AlwaysOff="always_off",R.AlwaysOn="always_on",R.ParentBasedAlwaysOff="parentbased_always_off",R.ParentBasedAlwaysOn="parentbased_always_on",R.ParentBasedTraceIdRatio="parentbased_traceidratio",R.TraceIdRatio="traceidratio";let r$=1/0;class rF{constructor(){rF.prototype.__init.call(this),rF.prototype.__init2.call(this)}__init(){this.generateTraceId=rj(16)}__init2(){this.generateSpanId=rj(8)}}let rG=tD.Buffer.allocUnsafe(16);function rj(e){return function(){for(let t=0;t<e/4;t++)rG.writeUInt32BE(0x100000000*Math.random()>>>0,4*t);for(let t=0;t<e;t++)if(rG[t]>0)break;else t===e-1&&(rG[e-1]=1);return rG.toString("hex",0,e)}}class rV{constructor(e,t,n,r){const i=function(e){let t={sampler:rB()},n=rx(),r=Object.assign({},n,t,e);return r.generalLimits=Object.assign({},n.generalLimits,e.generalLimits||{}),r.spanLimits=Object.assign({},n.spanLimits,e.spanLimits||{}),r}(t);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=t.idGenerator||new rF,this._resource=n,this._spanProcessor=r,this.instrumentationScope=e}startSpan(e,t={},n=J.active()){let r,i,s;t.root&&(n=to.deleteSpan(n));let a=to.getSpan(n);if(nQ(n))return nV.debug("Instrumentation suppressed, returning Noop Span"),to.wrapSpanContext(eJ);let o=a?.spanContext(),l=this._idGenerator.generateSpanId();o&&to.isSpanContextValid(o)?(i=o.traceId,s=o.traceState,r=o):i=this._idGenerator.generateTraceId();let p=t.kind??c.INTERNAL,f=(t.links??[]).map(e=>({context:e.context,attributes:n2(e.attributes)})),_=n2(t.attributes),h=this._sampler.shouldSample(n,i,e,p,_,f);s=h.traceState??s;let g={traceId:i,spanId:l,traceFlags:h.decision===d.RECORD_AND_SAMPLED?u.SAMPLED:u.NONE,traceState:s};if(h.decision===d.NOT_RECORD)return nV.debug("Recording is off, propagating context in a non-recording span"),to.wrapSpanContext(g);let m=n2(Object.assign(_,h.attributes));return new rP({resource:this._resource,scope:this.instrumentationScope,context:n,spanContext:g,name:e,kind:p,links:f,parentSpanContext:r,attributes:m,startTime:t.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(e,t,n,r){let i,s,a;if(arguments.length<2)return;2==arguments.length?a=t:3==arguments.length?(i=t,a=n):(i=t,s=n,a=r);let o=s??J.active(),u=this.startSpan(e,i,o),c=to.setSpan(o,u);return J.with(c,a,void 0,u)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}}class rY{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise(t=>{Promise.all(e).then(()=>{t()}).catch(e=>{n3(e||Error("MultiSpanProcessor: forceFlush failed")),t()})})}onStart(e,t){for(let n of this._spanProcessors)n.onStart(e,t)}onEnding(e){for(let t of this._spanProcessors)t.onEnding&&t.onEnding(e)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise((t,n)=>{Promise.all(e).then(()=>{t()},n)})}}(A=h||(h={}))[A.resolved=0]="resolved",A[A.timeout=1]="timeout",A[A.error=2]="error",A[A.unresolved=3]="unresolved";class rH{__init(){this._tracers=new Map}constructor(e={}){rH.prototype.__init.call(this);const t=function(...e){let t=e.shift(),n=new WeakMap;for(;e.length>0;)t=function e(t,n,r=0,i){let s;if(!(r>20)){if(r++,rL(t)||rL(n)||rC(n))s=rI(n);else if(rO(t)){if(s=t.slice(),rO(n))for(let e=0,t=n.length;e<t;e++)s.push(rI(n[e]));else if(rN(n)){let e=Object.keys(n);for(let t=0,r=e.length;t<r;t++){let r=e[t];s[r]=rI(n[r])}}}else if(rN(t))if(rN(n)){var a,o;if(a=t,o=n,!(rA(a)&&rA(o)))return n;s=Object.assign({},t);let u=Object.keys(n);for(let a=0,o=u.length;a<o;a++){let o=u[a],c=n[o];if(rL(c))void 0===c?delete s[o]:s[o]=c;else{let a=s[o];if(rb(t,o,i)||rb(n,o,i))delete s[o];else{if(rN(a)&&rN(c)){let e=i.get(a)||[],r=i.get(c)||[];e.push({obj:t,key:o}),r.push({obj:n,key:o}),i.set(a,e),i.set(c,r)}s[o]=e(s[o],c,r,i)}}}}else s=n;return s}}(t,e.shift(),0,n);return t}({},rx(),function(e){let t=Object.assign({},e.spanLimits);return t.attributeCountLimit=e.spanLimits?.attributeCountLimit??e.generalLimits?.attributeCountLimit??n9("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??n9("OTEL_ATTRIBUTE_COUNT_LIMIT")??128,t.attributeValueLengthLimit=e.spanLimits?.attributeValueLengthLimit??e.generalLimits?.attributeValueLengthLimit??n9("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??n9("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??r$,Object.assign({},e,{spanLimits:t})}(e));this._resource=t.resource??nq(),this._config=Object.assign({},t,{resource:this._resource});const n=[];e.spanProcessors?.length&&n.push(...e.spanProcessors),this._activeSpanProcessor=new rY(n)}getTracer(e,t,n){let r=`${e}@${t||""}:${n?.schemaUrl||""}`;return this._tracers.has(r)||this._tracers.set(r,new rV({name:e,version:t,schemaUrl:n?.schemaUrl},this._config,this._resource,this._activeSpanProcessor)),this._tracers.get(r)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,t=this._activeSpanProcessor._spanProcessors.map(t=>new Promise(n=>{let r,i=setTimeout(()=>{n(Error(`Span processor did not completed within timeout period of ${e} ms`)),r=h.timeout},e);t.forceFlush().then(()=>{clearTimeout(i),r!==h.timeout&&n(r=h.resolved)}).catch(e=>{clearTimeout(i),r=h.error,n(e)})}));return new Promise((e,n)=>{Promise.all(t).then(t=>{let r=t.filter(e=>e!==h.resolved);r.length>0?n(r):e()}).catch(e=>n([e]))})}shutdown(){return this._activeSpanProcessor.shutdown()}}let rz="sentry.parentIsRemote";function rW(e){return"parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0}function rq(e){return!!e.attributes&&"object"==typeof e.attributes}let rK="sentry-trace",rJ="baggage",rX="sentry.dsc",rZ="sentry.sampled_not_recording",rQ="sentry.url",r0=a("sentry_scopes"),r1=a("sentry_fork_isolation_scope"),r2=a("sentry_fork_set_scope"),r4=a("sentry_fork_set_isolation_scope"),r5="_scopeContext";function r3(e){return e.getValue(r0)}function r9(e,t){return e.setValue(r0,t)}function r8(e){let{traceFlags:t,traceState:n}=e,r=!!n&&"1"===n.get(rZ);if(t===u.SAMPLED)return!0;if(r)return!1;let i=n?n.get(rX):void 0,s=i?(0,ew.baggageHeaderToDynamicSamplingContext)(i):void 0;return s?.sampled==="true"||s?.sampled!=="false"&&void 0}function r6(e,t,n){let r=t[rn]||t[n8];if(r)return function({name:e,kind:t,attributes:n},r){var i,s;let a,o,u,l,p,d,f,_=["http"];switch(t){case c.CLIENT:_.push("client");break;case c.SERVER:_.push("server")}n["sentry.http.prefetch"]&&_.push("prefetch");let{urlPath:h,url:g,query:m,fragment:E,hasRoute:S}=(i=n,s=t,a=i["http.target"],o=i[n6]||i[ri],u=i["http.route"],p=(l="string"==typeof o?ey(o):void 0)?eA(l):void 0,d=l?.search||void 0,f=l?.hash||void 0,"string"==typeof u?{urlPath:u,url:p,query:d,fragment:f,hasRoute:!0}:s===c.SERVER&&"string"==typeof a?{urlPath:eR(a),url:p,query:d,fragment:f,hasRoute:!1}:l?{urlPath:p,url:p,query:d,fragment:f,hasRoute:!1}:"string"==typeof a?{urlPath:eR(a),url:p,query:d,fragment:f,hasRoute:!1}:{urlPath:void 0,url:p,query:d,fragment:f,hasRoute:!1});if(!h)return{...ie(e,n),op:_.join(".")};let v=n["sentry.graphql.operation"],T=`${r} ${h}`,y=v?`${T} (${function(e){if(Array.isArray(e)){let t=e.slice().sort();return t.length<=5?t.join(", "):`${t.slice(0,5).join(", ")}, +${t.length-5}`}return`${e}`}(v)})`:T,R={};g&&(R.url=g),m&&(R["http.query"]=m),E&&(R["http.fragment"]=E);let A=t===c.CLIENT||t===c.SERVER,I=n[eg.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]||"manual",b=!`${I}`.startsWith("auto"),O="custom"===n[eg.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],C=n[eg.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME],{description:N,source:L}=O||null!=C||!A&&b?ie(e,n):{description:y,source:S||"/"===h?"route":"url"};return{op:_.join("."),description:N,source:L,data:R}}({attributes:t,name:e,kind:n},r);let i=t["db.system.name"]||t["db.system"],s="string"==typeof t[eg.SEMANTIC_ATTRIBUTE_SENTRY_OP]&&t[eg.SEMANTIC_ATTRIBUTE_SENTRY_OP].startsWith("cache.");if(i&&!s)return function({attributes:e,name:t}){let n=e[eg.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME];if("string"==typeof n)return{op:"db",description:n,source:e[eg.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]||"custom"};if("custom"===e[eg.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE])return{op:"db",description:t,source:"custom"};let r=e["db.statement"];return{op:"db",description:r?r.toString():t,source:"task"}}({attributes:t,name:e});let a="custom"===t[eg.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]?"custom":"route";if(t["rpc.service"])return{...ie(e,t,"route"),op:"rpc"};if(t["messaging.system"])return{...ie(e,t,a),op:"message"};let o=t["faas.trigger"];return o?{...ie(e,t,a),op:o.toString()}:{op:void 0,description:e,source:"custom"}}function r7(e){let t=rq(e)?e.attributes:{};return r6(e.name?e.name:"<unknown>",t,"number"==typeof e.kind?e.kind:c.INTERNAL)}function ie(e,t,n="custom"){let r=t[eg.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]||n,i=t[eg.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME];return i&&"string"==typeof i?{description:i,source:r}:{description:e,source:r}}function it(){return to.getActiveSpan()}let ir="u"<typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function ii({dsc:e,sampled:t}){let n=e?(0,ew.dynamicSamplingContextToSentryBaggageHeader)(e):void 0,r=new rg,i=n?r.set(rX,n):r;return!1===t?i.set(rZ,"1"):i}let is=new Set;function ia(e){is.add(e)}class io extends n1{constructor(){super(),ia("SentryPropagator"),this._urlMatchesTargetsMap=new eM(100)}inject(e,t,n){if(nQ(e)){ir&&Q.debug.log("[Tracing] Not injecting trace data for url because tracing is suppressed.");return}let r=to.getSpan(e),i=r&&function(e){let t=(0,el.spanToJSON)(e).data,n=t[n6]||t[ri];if("string"==typeof n)return n;let r=e.spanContext().traceState?.get(rQ);if(r)return r}(r),{tracePropagationTargets:s,propagateTraceparent:a}=(0,eE.getClient)()?.getOptions()||{};if(!function(e,t,n){if("string"!=typeof e||!t)return!0;let r=n?.get(e);if(void 0!==r)return ir&&!r&&Q.debug.log(iu,e),r;let i=(0,ex.stringMatchesSomePattern)(e,t);return n?.set(e,i),ir&&!i&&Q.debug.log(iu,e),i}(i,s,this._urlMatchesTargetsMap)){ir&&Q.debug.log("[Tracing] Not injecting trace data for url because it does not match tracePropagationTargets:",i);return}let o=function(e){try{let t=e[rJ];return Array.isArray(t)?t.join(","):t}catch{return}}(t),u=tA.getBaggage(e)||tA.createBaggage({}),{dynamicSamplingContext:c,traceId:l,spanId:p,sampled:d}=ic(e);if(o){let e=(0,ew.parseBaggageHeader)(o);e&&Object.entries(e).forEach(([e,t])=>{u=u.setEntry(e,{value:t})})}c&&(u=Object.entries(c).reduce((e,[t,n])=>n?e.setEntry(`${ew.SENTRY_BAGGAGE_KEY_PREFIX}${t}`,{value:n}):e,u)),l&&l!==eK&&(n.set(t,rK,(0,eU.generateSentryTraceHeader)(l,p,d)),a&&n.set(t,"traceparent",(0,eU.generateTraceparentHeader)(l,p,d))),super.inject(tA.setBaggage(e,u),t,n)}extract(e,t,n){let r=n.get(t,rK),i=n.get(t,rJ);return ip(il(e,{sentryTrace:r?Array.isArray(r)?r[0]:r:void 0,baggage:i}))}fields(){return[rK,rJ,"traceparent"]}}let iu="[Tracing] Not injecting trace data for url because it does not match tracePropagationTargets:";function ic(e,t={}){let n=to.getSpan(e);if(n?.spanContext().isRemote){let e=n.spanContext();return{dynamicSamplingContext:(0,eB.getDynamicSamplingContextFromSpan)(n),traceId:e.traceId,spanId:void 0,sampled:r8(e)}}if(n){let e=n.spanContext();return{dynamicSamplingContext:(0,eB.getDynamicSamplingContextFromSpan)(n),traceId:e.traceId,spanId:e.spanId,sampled:r8(e)}}let r=t.scope||r3(e)?.scope||(0,eE.getCurrentScope)(),i=t.client||(0,eE.getClient)(),s=r.getPropagationContext();return{dynamicSamplingContext:i?(0,eB.getDynamicSamplingContextFromScope)(i,r):void 0,traceId:s.traceId,spanId:s.propagationSpanId,sampled:s.sampled}}function il(e,{sentryTrace:t,baggage:n}){let{traceId:r,parentSpanId:i,sampled:s,dsc:a}=(0,eU.propagationContextFromHeaders)(t,n),o=(0,eE.getClient)(),c=(0,ew.baggageHeaderToDynamicSamplingContext)(n);if(!i||o&&!(0,eU.shouldContinueTrace)(o,c?.org_id))return e;let l=function({spanId:e,traceId:t,sampled:n,dsc:r}){let i=ii({dsc:r,sampled:n});return{traceId:t,spanId:e,isRemote:!0,traceFlags:n?u.SAMPLED:u.NONE,traceState:i}}({traceId:r,spanId:i,sampled:s,dsc:a});return to.setSpanContext(e,l)}function ip(e){let t=r3(e);return r9(e,{scope:t?t.scope:(0,eE.getCurrentScope)().clone(),isolationScope:t?t.isolationScope:(0,eE.getIsolationScope)()})}function id(e,t,n){let r=iE(),{name:i,parentSpan:s}=e;return iy(s)(()=>{let s=iv(e.scope,e.forceTransaction),a=e.onlyIfParent&&!to.getSpan(s)?nZ(s):s,o=iS(e);if(!(0,eD.hasSpansEnabled)()){let e=nQ(a)?a:nZ(a);return J.with(e,()=>r.startActiveSpan(i,o,e,e=>J.with(s,()=>(0,ek.handleCallbackErrors)(()=>t(e),()=>{void 0===(0,el.spanToJSON)(e).status&&e.setStatus({code:l.ERROR})},n?()=>e.end():void 0))))}return r.startActiveSpan(i,o,a,e=>(0,ek.handleCallbackErrors)(()=>t(e),()=>{void 0===(0,el.spanToJSON)(e).status&&e.setStatus({code:l.ERROR})},n?()=>e.end():void 0))})}function i_(e,t){return id(e,t,!0)}function ih(e,t){return id(e,e=>t(e,()=>e.end()),!1)}function ig(e){let t=iE(),{name:n,parentSpan:r}=e;return iy(r)(()=>{let r=iv(e.scope,e.forceTransaction),i=e.onlyIfParent&&!to.getSpan(r)?nZ(r):r,s=iS(e);return(0,eD.hasSpansEnabled)()||(i=nQ(i)?i:nZ(i)),t.startSpan(n,s,i)})}function im(e,t){let n=e?to.setSpan(J.active(),e):to.deleteSpan(J.active());return J.with(n,()=>t((0,eE.getCurrentScope)()))}function iE(){let e=(0,eE.getClient)();return e?.tracer||to.getTracer("@sentry/opentelemetry",e_.SDK_VERSION)}function iS(e){var t;let{startTime:n,attributes:r,kind:i,op:s,links:a}=e,o="number"==typeof n?(t=n)<0x2540be3ff?1e3*t:t:n;return{attributes:s?{[eg.SEMANTIC_ATTRIBUTE_SENTRY_OP]:s,...r}:r,kind:i,links:a,startTime:o}}function iv(e,t){let n=function(e){if(e){let t=e[r5];if(t)return t}return J.active()}(e),r=to.getSpan(n);if(!r||!t)return n;let i=to.deleteSpan(n),{spanId:s,traceId:a}=r.spanContext(),o=r8(r.spanContext()),c=(0,el.getRootSpan)(r),l=ii({dsc:(0,eB.getDynamicSamplingContextFromSpan)(c),sampled:o}),p={traceId:a,spanId:s,isRemote:!0,traceFlags:o?u.SAMPLED:u.NONE,traceState:l};return to.setSpanContext(i,p)}function iT(e,t){var n;let r;return n=J.active(),r=ip(il(n,e)),J.with(r,t)}function iy(e){return void 0!==e?t=>im(e,t):e=>e()}function iR(e){let t=nZ(J.active());return J.with(t,e)}function iA({span:e,scope:t,client:n,propagateTraceparent:r}={}){let i=(t&&t[r5])??J.active();if(e){let{scope:t}=(0,em.getCapturedScopesOnSpan)(e);i=t&&t[r5]||to.setSpan(J.active(),e)}let{traceId:s,spanId:a,sampled:o,dynamicSamplingContext:u}=ic(i,{scope:t,client:n}),c={"sentry-trace":(0,eU.generateSentryTraceHeader)(s,a,o),baggage:(0,ew.dynamicSamplingContextToSentryBaggageHeader)(u)};return r&&(c.traceparent=(0,eU.generateTraceparentHeader)(s,a,o)),c}function iI(e){return!0===e.attributes[rz]?void 0:rW(e)}function ib(e,t){let n=e.get(t.id);return n?.span?n:n&&!n.span?(n.span=t.span,n.parentNode=t.parentNode,n):(e.set(t.id,t),t)}let iO={1:"cancelled",2:"unknown_error",3:"invalid_argument",4:"deadline_exceeded",5:"not_found",6:"already_exists",7:"permission_denied",8:"resource_exhausted",9:"failed_precondition",10:"aborted",11:"out_of_range",12:"unimplemented",13:"internal_error",14:"unavailable",15:"data_loss",16:"unauthenticated"};function iC(e){let t=rq(e)?e.attributes:{},n=e.status?e.status:void 0;if(n){if(n.code===l.OK)return{code:ep.SPAN_STATUS_OK};else if(n.code===l.ERROR){let e;if(void 0===n.message){let e=iN(t);if(e)return e}return n.message&&(e=n.message,Object.values(iO).includes(e))?{code:ep.SPAN_STATUS_ERROR,message:n.message}:{code:ep.SPAN_STATUS_ERROR,message:"internal_error"}}}let r=iN(t);return r||(n?.code===l.UNSET?{code:ep.SPAN_STATUS_OK}:{code:ep.SPAN_STATUS_ERROR,message:"unknown_error"})}function iN(e){let t=e[rr]||e[n7],n=e["rpc.grpc.status_code"],r="number"==typeof t?t:"string"==typeof t?parseInt(t):void 0;return"number"==typeof r?(0,ep.getSpanStatusFromHttpCode)(r):"string"==typeof n?{code:ep.SPAN_STATUS_ERROR,message:iO[n]||"unknown_error"}:void 0}class iL{constructor(e){this._finishedSpanBucketSize=e?.timeout||300,this._finishedSpanBuckets=Array(this._finishedSpanBucketSize).fill(void 0),this._lastCleanupTimestampInS=Math.floor((0,eG.safeDateNow)()/1e3),this._spansToBucketEntry=new WeakMap,this._sentSpans=new Map,this._debouncedFlush=function(e,t,n){let r,i,s,a=n?.maxWait?Math.max(n.maxWait,1):0,o=n?.setTimeoutImpl||setTimeout;function u(){return c(),r=e()}function c(){void 0!==i&&clearTimeout(i),void 0!==s&&clearTimeout(s),i=s=void 0}function l(){return i&&clearTimeout(i),i=o(u,1),a&&void 0===s&&(s=o(u,a)),r}return l.cancel=c,l.flush=function(){return void 0!==i||void 0!==s?u():r},l}(this.flush.bind(this),0,{maxWait:100})}export(e){let t=Math.floor((0,eG.safeDateNow)()/1e3);if(this._lastCleanupTimestampInS!==t){let e=0;this._finishedSpanBuckets.forEach((n,r)=>{n&&n.timestampInS<=t-this._finishedSpanBucketSize&&(e+=n.spans.size,this._finishedSpanBuckets[r]=void 0)}),e>0&&ir&&Q.debug.log(`SpanExporter dropped ${e} spans because they were pending for more than ${this._finishedSpanBucketSize} seconds.`),this._lastCleanupTimestampInS=t}let n=t%this._finishedSpanBucketSize,r=this._finishedSpanBuckets[n]||{timestampInS:t,spans:new Set};this._finishedSpanBuckets[n]=r,r.spans.add(e),this._spansToBucketEntry.set(e,r);let i=iI(e);(!i||this._sentSpans.has(i))&&this._debouncedFlush()}flush(){let e=this._finishedSpanBuckets.flatMap(e=>e?Array.from(e.spans):[]);this._flushSentSpanCache();let t=this._maybeSend(e),n=t.size,r=e.length-n;ir&&Q.debug.log(`SpanExporter exported ${n} spans, ${r} spans are waiting for their parent spans to finish`);let i=(0,eG.safeDateNow)()+3e5;for(let e of t){this._sentSpans.set(e.spanContext().spanId,i);let t=this._spansToBucketEntry.get(e);t&&t.spans.delete(e)}this._debouncedFlush.cancel()}clear(){this._finishedSpanBuckets=this._finishedSpanBuckets.fill(void 0),this._sentSpans.clear(),this._debouncedFlush.cancel()}_maybeSend(e){let t=function(e){let t=new Map;for(let n of e)!function(e,t){let n=t.spanContext().spanId,r=iI(t);if(!r)return ib(e,{id:n,span:t,children:[]});let i=function(e,t){let n=e.get(t);return n||ib(e,{id:t,children:[]})}(e,r),s=ib(e,{id:n,span:t,parentNode:i,children:[]});i.children.push(s)}(t,n);return Array.from(t,function([e,t]){return t})}(e),n=new Set;for(let e of this._getCompletedRootNodes(t)){let t=e.span;n.add(t);let r=function(e){let{op:t,description:n,data:r,origin:i="manual",source:s}=iP(e),a=(0,em.getCapturedScopesOnSpan)(e),o=e.attributes[eg.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE],u={[eg.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:s,[eg.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]:o,[eg.SEMANTIC_ATTRIBUTE_SENTRY_OP]:t,[eg.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:i,...r,...iw(e.attributes)},{links:c}=e,{traceId:l,spanId:p}=e.spanContext(),d=rW(e),f=iC(e),_={parent_span_id:d,span_id:p,trace_id:l,data:u,origin:i,op:t,status:(0,el.getStatusMessage)(f),links:(0,el.convertSpanLinksForEnvelope)(c)},h=u[rr];return{contexts:{trace:_,otel:{resource:e.resource.attributes},..."number"==typeof h?{response:{status_code:h}}:void 0},spans:[],start_timestamp:(0,el.spanTimeInputToSeconds)(e.startTime),timestamp:(0,el.spanTimeInputToSeconds)(e.endTime),transaction:n,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:a.scope,capturedSpanIsolationScope:a.isolationScope,sampleRate:o,dynamicSamplingContext:(0,eB.getDynamicSamplingContextFromSpan)(e)},...s&&{transaction_info:{source:s}}}}(t);if(e.parentNode&&this._sentSpans.has(e.parentNode.id)){let e=r.contexts?.trace?.data;e&&(e["sentry.parent_span_already_sent"]=!0)}let i=r.spans||[];for(let t of e.children)!function e(t,n,r){let i=t.span;if(i&&r.add(i),!i)return void t.children.forEach(t=>{e(t,n,r)});let s=i.spanContext().spanId,a=i.spanContext().traceId,o=rW(i),{attributes:u,startTime:c,endTime:l,links:p}=i,{op:d,description:f,data:_,origin:h="manual"}=iP(i),g={[eg.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:h,[eg.SEMANTIC_ATTRIBUTE_SENTRY_OP]:d,...iw(u),..._},m=iC(i),E={span_id:s,trace_id:a,data:g,description:f,parent_span_id:o,start_timestamp:(0,el.spanTimeInputToSeconds)(c),timestamp:(0,el.spanTimeInputToSeconds)(l)||void 0,status:(0,el.getStatusMessage)(m),op:d,origin:h,measurements:(0,ej.timedEventsToMeasurements)(i.events),links:(0,el.convertSpanLinksForEnvelope)(p)};n.push(E),t.children.forEach(t=>{e(t,n,r)})}(t,i,n);r.spans=i.length>1e3?i.sort((e,t)=>e.start_timestamp-t.start_timestamp).slice(0,1e3):i;let s=(0,ej.timedEventsToMeasurements)(t.events);s&&(r.measurements=s),(0,eV.captureEvent)(r)}return n}_flushSentSpanCache(){let e=(0,eG.safeDateNow)();for(let[t,n]of this._sentSpans.entries())n<=e&&this._sentSpans.delete(t)}_nodeIsCompletedRootNodeOrHasSentParent(e){return!!e.span&&(!e.parentNode||this._sentSpans.has(e.parentNode.id))}_getCompletedRootNodes(e){return e.filter(e=>this._nodeIsCompletedRootNodeOrHasSentParent(e))}}function iP(e){var t;let n,r,i,s,a,o,{op:u,source:l,origin:p}=(o=(a=e.attributes)[eg.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],{origin:o,op:a[eg.SEMANTIC_ATTRIBUTE_SENTRY_OP],source:a[eg.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]}),{op:d,description:f,source:_,data:h}=r7(e);return{op:u||d,description:f,source:l||_,origin:p,data:{...h,...(n=(t=e).attributes,r={},t.kind!==c.INTERNAL&&(r["otel.kind"]=c[t.kind]),(i=n[n7])&&(r[rr]=i),(s=function(e){if(!rq(e))return{};let t=e.attributes[ri]||e.attributes[n6],n={url:t,"http.method":e.attributes[rn]||e.attributes[n8]};!n["http.method"]&&n.url&&(n["http.method"]="GET");try{if("string"==typeof t){let e=ey(t);n.url=eA(e),e.search&&(n["http.query"]=e.search),e.hash&&(n["http.fragment"]=e.hash)}}catch{}return n}(t)).url&&(r.url=s.url),s["http.query"]&&(r["http.query"]=s["http.query"].slice(1)),s["http.fragment"]&&(r["http.fragment"]=s["http.fragment"].slice(1)),r)}}}function iw(e){let t={...e};return delete t[eg.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE],delete t[rz],delete t[eg.SEMANTIC_ATTRIBUTE_SENTRY_CUSTOM_SPAN_NAME],t}class iD{constructor(e){ia("SentrySpanProcessor"),this._exporter=new iL(e)}async forceFlush(){this._exporter.flush()}async shutdown(){this._exporter.clear()}onStart(e,t){let n,r,i;n=to.getSpan(t),r=r3(t),n&&!n.spanContext().isRemote&&(0,el.addChildSpanToSpan)(n,e),n?.spanContext().isRemote&&e.setAttribute(rz,!0),t===b&&(r={scope:(0,eF.getDefaultCurrentScope)(),isolationScope:(0,eF.getDefaultIsolationScope)()}),r&&(0,em.setCapturedScopesOnSpan)(e,r.scope,r.isolationScope),(0,eY.logSpanStart)(e),i=(0,eE.getClient)(),i?.emit("spanStart",e)}onEnd(e){let t;(0,eY.logSpanEnd)(e),t=(0,eE.getClient)(),t?.emit("spanEnd",e),this._exporter.export(e)}}class iM{constructor(e){this._client=e,ia("SentrySampler")}shouldSample(e,t,n,r,i,s){var a;let o,u=this._client.getOptions(),l=(a=e,(o=to.getSpan(a))&&e6(o.spanContext())?o:void 0),p=l?.spanContext();if(!(0,eD.hasSpansEnabled)(u))return iU({decision:void 0,context:e,spanAttributes:i});let d=i[n8]||i[rn];if(r===c.CLIENT&&d&&(!l||p?.isRemote))return iU({decision:void 0,context:e,spanAttributes:i});let _=l?function(e,t,n){let r=e.spanContext();if(e6(r)&&r.traceId===t){if(r.isRemote){let t=r8(e.spanContext());return ir&&Q.debug.log(`[Tracing] Inheriting remote parent's sampled decision for ${n}: ${t}`),t}let t=r8(r);return ir&&Q.debug.log(`[Tracing] Inheriting parent's sampled decision for ${n}: ${t}`),t}}(l,t,n):void 0;if(!(!l||p?.isRemote))return iU({decision:_?f.RECORD_AND_SAMPLED:f.NOT_RECORD,context:e,spanAttributes:i});let{description:h,data:g,op:m}=r6(n,i,r),E={...g,...i};m&&(E[eg.SEMANTIC_ATTRIBUTE_SENTRY_OP]=m);let S={decision:!0};if(this._client.emit("beforeSampling",{spanAttributes:E,spanName:h,parentSampled:_,parentContext:p},S),!S.decision)return iU({decision:void 0,context:e,spanAttributes:i});let{isolationScope:v}=r3(e)??{},T=p?.traceState?p.traceState.get(rX):void 0,y=T?(0,ew.baggageHeaderToDynamicSamplingContext)(T):void 0,R=(0,eH.parseSampleRate)(y?.sample_rand)??(0,ez.safeMathRandom)(),[A,I,b]=(0,eW.sampleSpan)(u,{name:h,attributes:E,normalizedRequest:v?.getScopeData().sdkProcessingMetadata.normalizedRequest,parentSampled:_,parentSampleRate:(0,eH.parseSampleRate)(y?.sample_rate)},R),O=`${d}`.toUpperCase();return"OPTIONS"===O||"HEAD"===O?(ir&&Q.debug.log(`[Tracing] Not sampling span because HTTP method is '${O}' for ${n}`),iU({decision:f.NOT_RECORD,context:e,spanAttributes:i,sampleRand:R,downstreamTraceSampleRate:0})):(A||void 0!==_||(ir&&Q.debug.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),this._client.recordDroppedEvent("sample_rate","transaction")),{...iU({decision:A?f.RECORD_AND_SAMPLED:f.NOT_RECORD,context:e,spanAttributes:i,sampleRand:R,downstreamTraceSampleRate:b?I:void 0}),attributes:{[eg.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]:b?I:void 0}})}toString(){return"SentrySampler"}}function iU({decision:e,context:t,spanAttributes:n,sampleRand:r,downstreamTraceSampleRate:i}){var s,a;let o,u,c,l,p=(s=t,a=n,o=to.getSpan(s),u=o?.spanContext(),c=u?.traceState||new rg,(l=a[n6]||a[ri])&&"string"==typeof l&&(c=c.set(rQ,l)),c);return(void 0!==i&&(p=p.set("sentry.sample_rate",`${i}`)),void 0!==r&&(p=p.set("sentry.sample_rand",`${r}`)),void 0==e)?{decision:f.NOT_RECORD,traceState:p}:e===f.NOT_RECORD?{decision:e,traceState:p.set(rZ,"1")}:{decision:e,traceState:p}}let ix="u"<typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,iB=new WeakMap;class ik{constructor(e=30){this.$=[],this._taskProducers=[],this._bufferSize=e}add(e){return this._taskProducers.length>=this._bufferSize?Promise.reject(tJ):(this._taskProducers.push(e),Promise.resolve({}))}drain(e){let t=[...this._taskProducers];return this._taskProducers=[],new Promise(n=>{let r=setTimeout(()=>{e&&e>0&&n(!1)},e);Promise.all(t.map(e=>e().then(null,()=>{}))).then(()=>{clearTimeout(r),n(!0)})})}}function i$(e){return function(e,t,n=tX(e.bufferSize||64)){let r={};return{send:function(i){let s=[];if((0,tU.forEachEnvelopeItem)(i,(t,n)=>{let i=(0,tU.envelopeItemTypeToDataCategory)(n);!function(e,t,n=(0,tZ.safeDateNow)()){return(e[t]||e.all||0)>n}(r,i)?s.push(t):e.recordDroppedEvent("ratelimit_backoff",i)}),0===s.length)return Promise.resolve({});let a=(0,tU.createEnvelope)(i[0],s),o=t=>{if((0,tU.envelopeContainsItemType)(a,["client_report"])){X.DEBUG_BUILD&&Q.debug.warn(`Dropping client report. Will not send outcomes (reason: ${t}).`);return}(0,tU.forEachEnvelopeItem)(a,(n,r)=>{e.recordDroppedEvent(t,(0,tU.envelopeItemTypeToDataCategory)(r))})};return n.add(()=>t({body:(0,tU.serializeEnvelope)(a)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&X.DEBUG_BUILD&&Q.debug.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=function(e,{statusCode:t,headers:n},r=(0,tZ.safeDateNow)()){let i={...e},s=n?.["x-sentry-rate-limits"],a=n?.["retry-after"];if(s)for(let e of s.trim().split(",")){let[t,n,,,s]=e.split(":",5),a=parseInt(t,10),o=(isNaN(a)?60:a)*1e3;if(n)for(let e of n.split(";"))"metric_bucket"===e?(!s||s.split(";").includes("custom"))&&(i[e]=r+o):i[e]=r+o;else i.all=r+o}else a?i.all=r+function(e,t=(0,tZ.safeDateNow)()){let n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(a,r):429===t&&(i.all=r+6e4);return i}(r,e),e),e=>{throw o("network_error"),X.DEBUG_BUILD&&Q.debug.error("Encountered error running transport request:",e),e})).then(e=>e,e=>{if(e===tJ)return X.DEBUG_BUILD&&Q.debug.error("Skipped sending event because buffer is full."),o("queue_overflow"),Promise.resolve({});throw e})},flush:e=>n.drain(e)}}(e,function(t){let n={body:t.body,method:"POST",headers:e.headers,...e.fetchOptions};return(0,nv.suppressTracing)(()=>fetch(e.url,n).then(e=>({statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))},new ik(e.bufferSize))}let iF=["addListener","on","once","prependListener","prependOnceListener"];class iG{constructor(){iG.prototype.__init.call(this),iG.prototype.__init2.call(this)}bind(e,t){return"object"==typeof t&&null!==t&&"on"in t?this._bindEventEmitter(e,t):"function"==typeof t?this._bindFunction(e,t):t}_bindFunction(e,t){let n=this,r=function(...r){return n.with(e,()=>t.apply(this,r))};return Object.defineProperty(r,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),r}_bindEventEmitter(e,t){return void 0!==this._getPatchMap(t)||(this._createPatchMap(t),iF.forEach(n=>{void 0!==t[n]&&(t[n]=this._patchAddListener(t,t[n],e))}),"function"==typeof t.removeListener&&(t.removeListener=this._patchRemoveListener(t,t.removeListener)),"function"==typeof t.off&&(t.off=this._patchRemoveListener(t,t.off)),"function"==typeof t.removeAllListeners&&(t.removeAllListeners=this._patchRemoveAllListeners(t,t.removeAllListeners))),t}_patchRemoveListener(e,t){let n=this;return function(r,i){let s=n._getPatchMap(e)?.[r];if(void 0===s)return t.call(this,r,i);let a=s.get(i);return t.call(this,r,a||i)}}_patchRemoveAllListeners(e,t){let n=this;return function(r){let i=n._getPatchMap(e);return void 0!==i&&(0==arguments.length?n._createPatchMap(e):void 0!==i[r]&&delete i[r]),t.apply(this,arguments)}}_patchAddListener(e,t,n){let r=this;return function(i,s){if(r._wrapped)return t.call(this,i,s);let a=r._getPatchMap(e);void 0===a&&(a=r._createPatchMap(e));let o=a[i];void 0===o&&(o=new WeakMap,a[i]=o);let u=r.bind(n,s);o.set(s,u),r._wrapped=!0;try{return t.call(this,i,u)}finally{r._wrapped=!1}}}_createPatchMap(e){let t=Object.create(null);return e[this._kOtListeners]=t,t}_getPatchMap(e){return e[this._kOtListeners]}__init(){this._kOtListeners=Symbol("OtListeners")}__init2(){this._wrapped=!1}}class ij extends iG{constructor(){super();const e=Z.GLOBAL_OBJ.AsyncLocalStorage;e?this._asyncLocalStorage=new e:(ix&&Q.debug.warn("Tried to register AsyncLocalStorage async context strategy in a runtime that doesn't support AsyncLocalStorage."),this._asyncLocalStorage={getStore(){},run(e,t,...n){return t.apply(this,n)},disable(){}})}active(){return this._asyncLocalStorage.getStore()??b}with(e,t,n,...r){let i=null==n?t:t.bind(n);return this._asyncLocalStorage.run(e,i,...r)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}}let iV=(0,ee.createStackParser)([90,(I=void 0,r=/^\s*[-]{4,}$/,i=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/,s=/at (?:async )?(.+?) \(data:(.*?),/,e=>{let t=e.match(s);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};let n=e.match(i);if(n){let e,t,r,i,s;if(n[1]){let s=(r=n[1]).lastIndexOf(".");if("."===r[s-1]&&s--,s>0){e=r.slice(0,s),t=r.slice(s+1);let n=e.indexOf(".Module");n>0&&(r=r.slice(n+1),e=e.slice(0,n))}i=void 0}t&&(i=e,s=t),"<anonymous>"===t&&(s=void 0,r=void 0),void 0===r&&(s=s||ee.UNKNOWN_FUNCTION,r=i?`${i}.${s}`:s);let a=(0,ee.normalizeStackTracePath)(n[2]),o="native"===n[5];return a||!n[5]||o||(a=n[5]),{filename:a?decodeURI(a):void 0,module:I?I(a):void 0,function:r,lineno:nA(n[3]),colno:nA(n[4]),in_app:function(e,t=!1){return!(t||e&&!e.startsWith("/")&&!e.match(/^[A-Z]:/)&&!e.startsWith(".")&&!e.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&void 0!==e&&!e.includes("node_modules/")}(a||"",o)}}if(e.match(r))return{filename:e}})]);function iY(e){let n;return[{name:"Dedupe",processEvent(e){if(e.type)return e;try{var t,r,i,s,a,o;let u,c,l,p;if(t=e,(r=n)&&(i=t,s=r,u=i.message,c=s.message,(u||c)&&(!u||c)&&(u||!c)&&u===c&&nb(i,s)&&nI(i,s)&&1||(a=t,o=r,l=nO(o),p=nO(a),l&&p&&l.type===p.type&&l.value===p.value&&nb(a,o)&&nI(a,o))))return X.DEBUG_BUILD&&Q.debug.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return n=e}},((e={})=>({...((e={})=>{let t;return{name:"EventFilters",setup(n){t=nN(e,n.getOptions())},processEvent:(n,r,i)=>(t||(t=nN(e,i.getOptions())),!function(e,t){if(e.type){if("transaction"===e.type&&function(e,t){if(!t?.length)return!1;let n=e.transaction;return!!n&&(0,ex.stringMatchesSomePattern)(n,t)}(e,t.ignoreTransactions))return X.DEBUG_BUILD&&Q.debug.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${(0,t1.getEventDescription)(e)}`),!0}else{var n,r,i;if(n=e,r=t.ignoreErrors,r?.length&&tQ(n).some(e=>(0,ex.stringMatchesSomePattern)(e,r)))return X.DEBUG_BUILD&&Q.debug.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,t1.getEventDescription)(e)}`),!0;if(i=e,i.exception?.values?.length&&!i.message&&!i.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))return X.DEBUG_BUILD&&Q.debug.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${(0,t1.getEventDescription)(e)}`),!0;if(function(e,t){if(!t?.length)return!1;let n=nL(e);return!!n&&(0,ex.stringMatchesSomePattern)(n,t)}(e,t.denyUrls))return X.DEBUG_BUILD&&Q.debug.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,t1.getEventDescription)(e)}.
Url: ${nL(e)}`),!0;if(!function(e,t){if(!t?.length)return!0;let n=nL(e);return!n||(0,ex.stringMatchesSomePattern)(n,t)}(e,t.allowUrls))return X.DEBUG_BUILD&&Q.debug.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,t1.getEventDescription)(e)}.
Url: ${nL(e)}`),!0}return!1}(n,t)?n:null)}})(e),name:"InboundFilters"}))(),{name:"FunctionToString",setupOnce(){t=Function.prototype.toString;try{Function.prototype.toString=function(...e){let n=(0,eN.getOriginalFunction)(this),r=nP.has((0,eE.getClient)())&&void 0!==n?n:this;return t.apply(r,e)}}catch{}},setup(e){nP.set(e,!0)}},{name:"ConversationId",setup(e){e.on("spanStart",e=>{let t=(0,eE.getCurrentScope)().getScopeData(),n=(0,eE.getIsolationScope)().getScopeData(),r=t.conversationId||n.conversationId;r&&e.setAttribute(eg.GEN_AI_CONVERSATION_ID_ATTRIBUTE,r)})}},((e={})=>{let t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,i){!function(e,t,n,r,i,s){if(!i.exception?.values||!s||!(0,tj.isInstanceOf)(s.originalException,Error))return;let a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=function e(t,n,r,i,s,a,o,u){if(a.length>=r+1)return a;let c=[...a];if((0,tj.isInstanceOf)(i[s],Error)){nD(o,u,i);let a=t(n,i[s]),l=c.length;nM(a,s,l,u),c=e(t,n,r,i[s],s,[a,...c],a,l)}return nw(i)&&i.errors.forEach((a,l)=>{if((0,tj.isInstanceOf)(a,Error)){nD(o,u,i);let p=t(n,a),d=c.length;nM(p,`errors[${l}]`,d,u),c=e(t,n,r,a,s,[p,...c],p,d)}}),c}(e,t,r,s.originalException,n,i.exception.values,a,0))}(n_,i.getOptions().stackParser,n,t,e,r)}}})(),((e={})=>{let t=void 0===e.breadcrumbs||e.breadcrumbs,n=e.shouldCreateSpanForRequest,r=new eM(100),i=new eM(100),s={};function a(e){let t=(0,eE.getClient)();if(!t)return!1;let n=t.getOptions();if(void 0===n.tracePropagationTargets)return!0;let r=i.get(e);if(void 0!==r)return r;let s=(0,ex.stringMatchesSomePattern)(e,n.tracePropagationTargets);return i.set(e,s),s}function o(e){if(void 0===n)return!0;let t=r.get(e);if(void 0!==t)return t;let i=n(e);return r.set(e,i),i}return{name:"WinterCGFetch",setupOnce(){let e;er(e="fetch",e=>{let n=(0,eE.getClient)();n&&iB.get(n)&&!eL(e.fetchData.url,n)&&(!function(e,t,n,r,i){if(!e.fetchData)return;let{method:s,url:a}=e.fetchData,o=(0,eD.hasSpansEnabled)()&&t(a);if(e.endTimestamp&&o){var u,c,l;let t,n=e.fetchData.__span;if(!n)return;let s=r[n];s&&(function(e,t){if(t.response){(0,ep.setHttpStatus)(e,t.response.status);let n=t.response?.headers?.get("content-length");if(n){let t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:ep.SPAN_STATUS_ERROR,message:"internal_error"});e.end()}(s,e),u=s,c=e,t="object"==typeof(l=i)&&null!==l?l.onRequestSpanEnd:void 0,t?.(u,{headers:c.response?.headers,error:c.error}),delete r[n]);return}let{spanOrigin:p="auto.http.browser",propagateTraceparent:d=!1}="object"==typeof i?i:{spanOrigin:i},f=!!(0,el.getActiveSpan)(),_=o&&f?(0,nv.startInactiveSpan)(function(e,t,n){if(e.startsWith("data:")){let r=eI(e);return{name:`${t} ${r}`,attributes:ny(e,void 0,t,n)}}let r=ev(e),i=r?eT(r):e;return{name:`${t} ${i}`,attributes:ny(e,r,t,n)}}(a,s,p)):new nS.SentryNonRecordingSpan;if(e.fetchData.__span=_.spanContext().spanId,r[_.spanContext().spanId]=_,n(e.fetchData.url)){let t=e.args[0],n={...e.args[1]||{}},r=function(e,t,n,r){var i;let s=function(e={}){let t=e.client||(0,eE.getClient)();if(!(0,eV.isEnabled)()||!t)return{};let n=(0,tG.getMainCarrier)(),r=(0,e$.getAsyncContextStrategy)(n);if(r.getTraceData)return r.getTraceData(e);let i=e.scope||(0,eE.getCurrentScope)(),s=e.span||(0,el.getActiveSpan)(),a=s?(0,el.spanToTraceHeader)(s):function(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return(0,eU.generateSentryTraceHeader)(t,r,n)}(i),o=s?(0,eB.getDynamicSamplingContextFromSpan)(s):(0,eB.getDynamicSamplingContextFromScope)(t,i),u=(0,ew.dynamicSamplingContextToSentryBaggageHeader)(o);if(!eU.TRACEPARENT_REGEXP.test(a))return Q.debug.warn("Invalid sentry-trace data. Cannot generate trace data"),{};let c={"sentry-trace":a,baggage:u};return e.propagateTraceparent&&(c.traceparent=s?(0,el.spanToTraceparentHeader)(s):function(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return(0,eU.generateTraceparentHeader)(t,r,n)}(i)),c}({span:n,propagateTraceparent:r}),a=s["sentry-trace"],o=s.baggage,u=s.traceparent;if(!a)return;let c=t.headers||((0,tj.isRequest)(e)?e.headers:void 0);if(!c)return{...s};if(i=c,"u">typeof Headers&&(0,tj.isInstanceOf)(i,Headers)){let e=new Headers(c);if(e.get("sentry-trace")||e.set("sentry-trace",a),r&&u&&!e.get("traceparent")&&e.set("traceparent",u),o){let t=e.get("baggage");t?nT(t)||e.set("baggage",`${t},${o}`):e.set("baggage",o)}return e}if(Array.isArray(c)){let e=[...c];c.find(e=>"sentry-trace"===e[0])||e.push(["sentry-trace",a]),r&&u&&!c.find(e=>"traceparent"===e[0])&&e.push(["traceparent",u]);let t=c.find(e=>"baggage"===e[0]&&nT(e[1]));return o&&!t&&e.push(["baggage",o]),e}{let e="sentry-trace"in c?c["sentry-trace"]:void 0,t="traceparent"in c?c.traceparent:void 0,n="baggage"in c?c.baggage:void 0,i=n?Array.isArray(n)?[...n]:[n]:[],s=n&&(Array.isArray(n)?n.find(e=>nT(e)):nT(n));o&&!s&&i.push(o);let l={...c,"sentry-trace":e??a,baggage:i.length>0?i.join(","):void 0};return r&&u&&!t&&(l.traceparent=u),l}}(t,n,(0,eD.hasSpansEnabled)()&&f?_:void 0,d);r&&(e.args[1]=n,n.headers=r)}let h=(0,eE.getClient)();if(h){let t={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};h.emit("beforeOutgoingRequestSpan",_,t)}}(e,o,a,s,{spanOrigin:"auto.http.wintercg_fetch"}),t&&function(e){let{startTimestamp:t,endTimestamp:n}=e;if(!n)return;let r={method:e.fetchData.method,url:e.fetchData.url};if(e.error)nR({category:"fetch",data:r,level:"error",type:"http"},{data:e.error,input:e.args,startTimestamp:t,endTimestamp:n});else{let i=e.response;r.request_body_size=e.fetchData.request_body_size,r.response_body_size=e.fetchData.response_body_size,r.status_code=i?.status;let s={input:e.args,response:i,startTimestamp:t,endTimestamp:n},a=function(e){if(void 0!==e)return e>=400&&e<500?"warning":e>=500?"error":void 0}(r.status_code);nR({category:"fetch",data:r,type:"http",level:a},s)}}(e))}),ei(e,()=>(function(e,t=!1){(0,eN.fill)(Z.GLOBAL_OBJ,"fetch",function(t){return function(...n){let r=Error(),{method:i,url:s}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){let[t,n]=e;return{url:nE(t),method:nm(n,"method")?String(n.method).toUpperCase():(0,tj.isRequest)(t)&&nm(t,"method")?String(t.method).toUpperCase():"GET"}}let t=e[0];return{url:nE(t),method:nm(t,"method")?String(t.method).toUpperCase():"GET"}}(n),a={args:n,fetchData:{method:i,url:s},startTimestamp:1e3*(0,tV.timestampInSeconds)(),virtualError:r,headers:function(e){let[t,n]=e;try{if("object"==typeof n&&null!==n&&"headers"in n&&n.headers)return new Headers(n.headers);if((0,tj.isRequest)(t))return new Headers(t.headers)}catch{}}(n)};return e||es("fetch",{...a}),t.apply(Z.GLOBAL_OBJ,n).then(async t=>(e?e(t):es("fetch",{...a,endTimestamp:1e3*(0,tV.timestampInSeconds)(),response:t}),t),e=>{es("fetch",{...a,endTimestamp:1e3*(0,tV.timestampInSeconds)(),error:e}),(0,tj.isError)(e)&&void 0===e.stack&&(e.stack=r.stack,(0,eN.addNonEnumerableProperty)(e,"framesToPop",1));let t=(0,eE.getClient)(),n=t?.getOptions().enhanceFetchErrorMessages??"always";if(!1!==n&&e instanceof TypeError&&("Failed to fetch"===e.message||"Load failed"===e.message||"NetworkError when attempting to fetch resource."===e.message))try{let t=new URL(a.fetchData.url).host;"always"===n?e.message=`${e.message} (${t})`:(0,eN.addNonEnumerableProperty)(e,"__sentry_fetch_url_host__",t)}catch{}throw e})}})})(void 0,void 0))},setup(e){iB.set(e,!0)}}})(),((e={})=>{let t=new Set(e.levels||Q.CONSOLE_LEVELS);return{name:"Console",setup(e){let n;er(n="console",({args:n,level:r})=>{(0,eE.getClient)()===e&&t.has(r)&&function(e,t){let n={category:"console",data:{arguments:t,logger:"console"},level:"warn"===e?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log",message:nx(t)};if("assert"===e)if(!1!==t[0])return;else{let e=t.slice(1);n.message=e.length>0?`Assertion failed: ${nx(e)}`:"Assertion failed",n.data.arguments=e}nR(n,{input:t,level:e})}(r,n)}),ei(n,nU)}}})(),...e.sendDefaultPii?[((e={})=>{let t={...nk,...e.include};return{name:"RequestData",processEvent(e,n,r){let{sdkProcessingMetadata:i={}}=e,{normalizedRequest:s,ipAddress:a}=i,o={...t,ip:t.ip??r.getOptions().sendDefaultPii};return s&&function(e,t,n,r){var i,s;let a,o;if(e.request={...e.request,...(i=t,s=r,a={},o={...i.headers},s.headers&&(a.headers=o,s.cookies||delete o.cookie,s.ip||nB.forEach(e=>{delete o[e]})),a.method=i.method,s.url&&(a.url=i.url),s.cookies&&(a.cookies=i.cookies||(o?.cookie?function(e){let t={},n=0;for(;n<e.length;){let r=e.indexOf("=",n);if(-1===r)break;let i=e.indexOf(";",n);if(-1===i)i=e.length;else if(i<r){n=e.lastIndexOf(";",r-1)+1;continue}let s=e.slice(n,r).trim();if(void 0===t[s]){let n=e.slice(r+1,i).trim();34===n.charCodeAt(0)&&(n=n.slice(1,-1));try{t[s]=-1!==n.indexOf("%")?decodeURIComponent(n):n}catch{t[s]=n}}n=i+1}return t}(o.cookie):void 0)||{}),s.query_string&&(a.query_string=i.query_string),s.data&&(a.data=i.data),a)},r.ip){let r=t.headers&&function(e){let t={};for(let n of Object.keys(e))t[n.toLowerCase()]=e[n];return nB.map(e=>{let n=t[e.toLowerCase()],r=Array.isArray(n)?n.join(";"):n;return"Forwarded"===e?function(e){if(!e)return null;for(let t of e.split(";"))if(t.startsWith("for="))return t.slice(4);return null}(r):r?.split(",").map(e=>e.trim())}).reduce((e,t)=>t?e.concat(t):e,[]).find(e=>{var t;return null!==e&&(t=e,/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-fA-F\d]{1,4}:){7}(?:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,2}|:)|(?:[a-fA-F\d]{1,4}:){4}(?:(?::[a-fA-F\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,3}|:)|(?:[a-fA-F\d]{1,4}:){3}(?:(?::[a-fA-F\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,4}|:)|(?:[a-fA-F\d]{1,4}:){2}(?:(?::[a-fA-F\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,5}|:)|(?:[a-fA-F\d]{1,4}:){1}(?:(?::[a-fA-F\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,6}|:)|(?::(?:(?::[a-fA-F\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,7}|:)))(?:%[0-9a-zA-Z]{1,})?$)/.test(t))})||null}(t.headers)||n.ipAddress;r&&(e.user={...e.user,ip_address:r})}}(e,s,{ipAddress:a},o),e}}})()]:[]]}var iH=e.i(19874);let iz="next.span_type",iW="sentry.drop_transaction";var iq=e.i(74604);let iK=Z.GLOBAL_OBJ;var iJ=e.i(80975),iX=e.i(49457);let iZ=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function iQ(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let i=r>=0?e[r]:"/";i&&(t=`${i}/${t}`,n="/"===i.charAt(0))}return t=(function(e,t){let n=0;for(let t=e.length-1;t>=0;t--){let r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;)e.unshift("..");return e})(t.split("/").filter(e=>!!e),!n).join("/"),(n?"/":"")+t||"."}function i0(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}let i1=Z.GLOBAL_OBJ;!function(e={}){if(ef(),process.env.NEXT_PHASE===iJ.PHASE_PRODUCTION_BUILD)return;!iH.DEBUG_BUILD&&e.debug&&console.warn("[@sentry/nextjs] You have enabled `debug: true`, but Sentry debug logging was removed from your bundle (likely via `withSentryConfig({ disableLogger: true })` / `webpack.treeshake.removeDebugLogging: true`). Set that option to `false` to see Sentry debug output.");let t=iY(e),n=process.env._sentryRewriteFramesDistDir||i1._sentryRewriteFramesDistDir;n&&t.push((({distDirName:e})=>{let t=e.replace(/(\/|\\)$/,""),n=RegExp(`.*${t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}`);return{...((e={})=>{let t=e.root,n=e.prefix||"app:///",r="window"in Z.GLOBAL_OBJ&&!!Z.GLOBAL_OBJ.window,i=e.iteratee||function({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;let i=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),s=/^\//.test(r.filename);if(e){if(t){let e=r.filename;0===e.indexOf(t)&&(r.filename=e.replace(t,n))}}else if(i||s){let e,s,a=i?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,o=t?function(e,t){e=iQ(e).slice(1),t=iQ(t).slice(1);let n=i0(e.split("/")),r=i0(t.split("/")),i=Math.min(n.length,r.length),s=i;for(let e=0;e<i;e++)if(n[e]!==r[e]){s=e;break}let a=[];for(let e=s;e<n.length;e++)a.push("..");return(a=a.concat(r.slice(s))).join("/")}(t,a):(e=a.length>1024?`<truncated>${a.slice(-1024)}`:a,(s=iZ.exec(e))?s.slice(1):[])[2]||"";r.filename=`${n}${o}`}return r}}({isBrowser:r,root:t,prefix:n});return{name:"RewriteFrames",processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map(e=>{var t;return{...e,...e.stacktrace&&{stacktrace:{...t=e.stacktrace,frames:t?.frames?.map(e=>i(e))}}}})}}}catch{return e}}(t)),t}}})({iteratee:e=>(e.filename=e.filename?.replace(n,"app:///_next"),e)}),name:"DistDirRewriteFrames"}})({distDirName:n}));let r={defaultIntegrations:t,release:process.env._sentryRelease||i1._sentryRelease,...e};eh(r,"nextjs",["nextjs","vercel-edge"]);let i=function(e={}){var t,n;let r,i,s;function a(){let e=r3(J.active());return e||{scope:(0,eF.getDefaultCurrentScope)(),isolationScope:(0,eF.getDefaultIsolationScope)()}}function u(){return a().scope}function c(){return a().isolationScope}if((0,e$.setAsyncContextStrategy)({withScope:function(e){let t=J.active();return J.with(t,()=>e(u()))},withSetScope:function(e,t){let n=e[r5]||J.active();return J.with(n.setValue(r2,e),()=>t(e))},withSetIsolationScope:function(e,t){let n=J.active();return J.with(n.setValue(r4,e),()=>t(c()))},withIsolationScope:function(e){let t=J.active();return J.with(t.setValue(r1,!0),()=>e(c()))},getCurrentScope:u,getIsolationScope:c,startSpan:i_,startSpanManual:ih,startInactiveSpan:ig,getActiveSpan:it,suppressTracing:iR,getTraceData:iA,continueTrace:iT,withActiveSpan:im}),(0,eE.getCurrentScope)().update(e.initialScope),void 0===e.defaultIntegrations&&(e.defaultIntegrations=iY(e)),void 0===e.dsn&&process.env.SENTRY_DSN&&(e.dsn=process.env.SENTRY_DSN),void 0===e.tracesSampleRate&&process.env.SENTRY_TRACES_SAMPLE_RATE){let t=parseFloat(process.env.SENTRY_TRACES_SAMPLE_RATE);isFinite(t)&&(e.tracesSampleRate=t)}if(void 0===e.release){let t=function(e){if(process.env.SENTRY_RELEASE)return process.env.SENTRY_RELEASE;if(Z.GLOBAL_OBJ.SENTRY_RELEASE?.id)return Z.GLOBAL_OBJ.SENTRY_RELEASE.id;let t=process.env.GITHUB_SHA||process.env.CI_MERGE_REQUEST_SOURCE_BRANCH_SHA||process.env.CI_BUILD_REF||process.env.CI_COMMIT_SHA||process.env.BITBUCKET_COMMIT,n=process.env.APPVEYOR_PULL_REQUEST_HEAD_COMMIT||process.env.APPVEYOR_REPO_COMMIT||process.env.CODEBUILD_RESOLVED_SOURCE_VERSION||process.env.AWS_COMMIT_ID||process.env.BUILD_SOURCEVERSION||process.env.GIT_CLONE_COMMIT_HASH||process.env.BUDDY_EXECUTION_REVISION||process.env.BUILDKITE_COMMIT||process.env.CIRCLE_SHA1||process.env.CIRRUS_CHANGE_IN_REPO||process.env.CF_REVISION||process.env.CM_COMMIT||process.env.CF_PAGES_COMMIT_SHA||process.env.DRONE_COMMIT_SHA||process.env.FC_GIT_COMMIT_SHA||process.env.HEROKU_TEST_RUN_COMMIT_VERSION||process.env.HEROKU_SLUG_COMMIT||process.env.RAILWAY_GIT_COMMIT_SHA||process.env.RENDER_GIT_COMMIT||process.env.SEMAPHORE_GIT_SHA||process.env.TRAVIS_PULL_REQUEST_SHA||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA,r=process.env.CI_COMMIT_ID||process.env.SOURCE_COMMIT||process.env.SOURCE_VERSION||process.env.GIT_COMMIT||process.env.COMMIT_REF||process.env.BUILD_VCS_NUMBER||process.env.CI_COMMIT_SHA;return t||n||r||void 0}();void 0!==t&&(e.release=t)}e.environment=e.environment||process.env.SENTRY_ENVIRONMENT||((r=process.env.VERCEL_ENV)?`vercel-${r}`:void 0)||"production";let l=new nJ({...e,stackParser:(0,ee.stackParserFromStackParserOptions)(e.stackParser||iV),integrations:function(e){let t,n,r=e.defaultIntegrations||[],i=e.integrations;if(r.forEach(e=>{e.isDefaultInstance=!0}),Array.isArray(i))t=[...r,...i];else if("function"==typeof i){let e=i(r);t=Array.isArray(e)?e:[e]}else t=r;return n={},t.forEach(e=>{let{name:t}=e,r=n[t];r&&!r.isDefaultInstance&&e.isDefaultInstance||(n[t]=e)}),Object.values(n)}(e),transport:e.transport||i$});return(0,eE.getCurrentScope)().setClient(l),l.init(),e.skipOpenTelemetrySetup||((t=l).getOptions().debug&&(nV.disable(),nV.setLogger({error:Q.debug.error,warn:Q.debug.warn,info:Q.debug.log,debug:Q.debug.log,verbose:Q.debug.log},o.DEBUG)),i=new rH({sampler:new iM(t),resource:nq().merge(nW({"service.name":"edge","service.namespace":"sentry","service.version":e_.SDK_VERSION})),forceFlushTimeoutMillis:500,spanProcessors:[new iD({timeout:t.getOptions().maxSpanWaitDuration})]}),s=(n=ij,class extends n{constructor(...e){super(...e),ia("SentryContextManager")}with(e,t,n,...r){let i=r3(e),s=i?.scope||(0,eE.getCurrentScope)(),a=i?.isolationScope||(0,eE.getIsolationScope)(),o=!0===e.getValue(r1),u=e.getValue(r2),c=e.getValue(r4),l=u||s.clone(),p=r9(e,{scope:l,isolationScope:c||(o?a.clone():a)}).deleteValue(r1).deleteValue(r2).deleteValue(r4);return(0,eN.addNonEnumerableProperty)(l,r5,p),super.with(p,t,n,...r)}getAsyncLocalStorageLookup(){return{asyncLocalStorage:this._asyncLocalStorage,contextSymbol:r0}}}),to.setGlobalTracerProvider(i),tA.setGlobalPropagator(new io),J.setGlobalContextManager(new s),t.traceProvider=i,function(){if(!ix)return;let e=Array.from(is),t=["SentryContextManager","SentryPropagator"];for(let n of((0,eD.hasSpansEnabled)()&&t.push("SentrySpanProcessor"),t))e.includes(n)||Q.debug.error(`You have to set up the ${n}. Without this, the OpenTelemetry & Sentry integration will not work properly.`);e.includes("SentrySampler")||Q.debug.warn("You have to set up the SentrySampler. Without this, the OpenTelemetry & Sentry integration may still work, but sample rates set for the Sentry SDK will not be respected. If you use a custom sampler, make sure to use `wrapSamplingDecision`.")}()),l.on("createDsc",(e,t)=>{if(!t)return;let n=(0,el.spanToJSON)(t).data[eg.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],{description:r}=t.name?r7(t):{description:void 0};if("url"!==n&&r&&(e.transaction=r),(0,eD.hasSpansEnabled)()){let n=r8(t.spanContext());e.sampled=void 0==n?void 0:String(n)}}),l.on("preprocessEvent",e=>{let t=it();if(!t||"transaction"===e.type)return;e.contexts={trace:(0,el.spanToTraceContext)(t),...e.contexts};let n=(0,el.getRootSpan)(t);return e.sdkProcessingMetadata={dynamicSamplingContext:(0,eB.getDynamicSamplingContextFromSpan)(n),...e.sdkProcessingMetadata},e}),l}(r);i?.on("spanStart",e=>{let t=(0,el.spanToJSON)(e).data,n=(0,el.getRootSpan)(e),r=e===n;if(!function(e,t){let n=t?.[iz]==="Middleware.execute",r=t?.[eg.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]==="auto.http.otel.node_fetch";if(!n&&!r)return;let i=function(e){let t=iK._sentryRewritesTunnelPath||process.env._sentryRewritesTunnelPath;if(!t)return!1;let n=e["http.target"];return"string"==typeof n&&(n.split("?")[0]||"").startsWith(t)}(t||{}),s=function(e){if(!(e.attributes&&"object"==typeof e.attributes))return!1;let{attributes:t}=e,n=t["http.url"]||t["url.full"];return!!n&&eL(n.toString(),(0,eE.getClient)())}(e);(i||s)&&e.setAttribute(iW,!0)}(e,t),t?.["next.span_type"]!==void 0&&e.setAttribute(eg.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,"auto"),t?.["next.span_type"]==="Middleware.execute"&&(e.setAttribute(eg.SEMANTIC_ATTRIBUTE_SENTRY_OP,"http.server.middleware"),e.setAttribute(eg.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,"url")),t?.[iz]==="BaseServer.handleRequest"&&r){let t=(0,em.getCapturedScopesOnSpan)(e),n=(t.isolationScope||(0,eE.getIsolationScope)()).clone(),r=t.scope||(0,eE.getCurrentScope)(),i=J.active().getValue(tw);i&&(i.isolationScope=n),(0,em.setCapturedScopesOnSpan)(e,r,n)}r&&function(e,t){if(!e)return;let n=e instanceof Headers||"object"==typeof e&&"get"in e?(0,iq.winterCGHeadersToDict)(e):e,r=(0,iq.httpHeadersToSpanAttributes)(n,(0,eE.getClient)()?.getOptions().sendDefaultPii??!1);t&&t.setAttributes(r)}((0,eE.getIsolationScope)().getScopeData().sdkProcessingMetadata?.normalizedRequest?.headers,n)}),i?.on("preprocessEvent",e=>{if("transaction"===e.type&&e.contexts?.trace?.data?.["next.span_type"]==="Middleware.execute"&&e.contexts?.trace?.data?.["next.span_name"]&&e.transaction){let t=e.contexts.trace.data["next.span_name"];if("string"==typeof t){let n=t.match(/^middleware (GET|POST|PUT|DELETE|PATCH|HEAD|OPTIONS)/);n?e.transaction=`middleware ${n[1]}`:e.transaction=eR(e.contexts.trace.data["next.span_name"])}}!function(e){var t;let n;if("transaction"!==e.type||e.contexts?.trace?.op!=="http.server"||!e.contexts?.trace?.data)return;let r=(0,eE.getClient)();if(!r?.getOptions().sendDefaultPii)return;let i=e.contexts.trace.data,s=i["next.route"]||i["http.route"],a=i["http.target"];if(!s)return;let o=e.sdkProcessingMetadata?.capturedSpanIsolationScope?.getScopeData(),u=o?.sdkProcessingMetadata?.normalizedRequest?.headers,c=(t=a?.toString(),(n=function(e){let t=e?.referer;if(t)try{let e=new URL(t);return eT(e)}catch{return}}(u))||function(e,t,n,r){let i,s=r??((i=e.split("/").filter(e=>e&&!(e.startsWith("(")&&e.endsWith(")")))).length>0?`/${i.join("/")}`:"/"),a=n?.["x-forwarded-proto"],o=n?.["x-forwarded-host"]||n?.host;if(!a||!o)return s;let u=ev(`${a}://${o}${s}`);return u?eT(u):s}(s,0,u,t));c&&o?.sdkProcessingMetadata&&(o.sdkProcessingMetadata.normalizedRequest=o.sdkProcessingMetadata.normalizedRequest||{},o.sdkProcessingMetadata.normalizedRequest.url=c)}(e)}),i?.on("spanEnd",e=>{e===(0,el.getRootSpan)(e)&&(0,iX.waitUntil)((0,iX.flushSafelyWithTimeout)())}),(0,eE.getGlobalScope)().addEventProcessor(Object.assign(e=>"transaction"!==e.type?e:e.contexts?.trace?.data?.[iW]?null:e,{id:"NextLowQualityTransactionsFilter"}));try{(0,eE.getGlobalScope)().setTag("turbopack",!0)}catch{}}({dsn:"https://0a37d7fc25f561b3efeae2909bf2ea5c@o4510804348698624.ingest.us.sentry.io/4510804351057920",environment:"production",tracesSampleRate:.1,enableLogs:!0,beforeSend:(e,t)=>(e.user&&(delete e.user.email,delete e.user.ip_address),e.request&&e.request.headers&&(delete e.request.headers.authorization,delete e.request.headers.cookie),e)}),console.log(" Edge runtime Sentry initialized (HIPAA-compliant)"),e.s([],29558)}]);

//# sourceMappingURL=%5Broot-of-the-server%5D__fc3a85ab._.js.map