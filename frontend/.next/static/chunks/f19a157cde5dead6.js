(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26767,e=>{"use strict";var t=e.i(15914),r=e.i(89708);let a=["bg-yellow-200","bg-pink-200","bg-blue-200","bg-green-200","bg-purple-200","bg-orange-200"];function o(){let[e,o]=(0,r.useState)([]),[n,l]=(0,r.useState)(!1),[s,i]=(0,r.useState)(""),[c,d]=(0,r.useState)(a[0]),[g,x]=(0,r.useState)(null),[u,h]=(0,r.useState)({x:0,y:0}),m=(0,r.useRef)(null);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/playground/notes");if(e.ok){let t=await e.json();o(t.map(e=>({...e,createdAt:new Date(e.createdAt)})))}}catch(t){console.error("Error loading notes:",t);let e=localStorage.getItem("playground-notes");if(e)try{let t=JSON.parse(e);o(t.map(e=>({...e,createdAt:new Date(e.createdAt)})))}catch(e){console.error("Error parsing localStorage notes:",e)}}})()},[]),(0,r.useEffect)(()=>{e.length>0&&localStorage.setItem("playground-notes",JSON.stringify(e))},[e]);let p=async()=>{if(!s.trim())return;let t={id:Date.now().toString(),content:s,x:300*Math.random(),y:200*Math.random(),color:c,createdAt:new Date};try{let r=await fetch("/api/playground/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(r.ok){let t=await r.json();o([...e,t])}else throw Error("Failed to save note to backend")}catch(r){console.error("Error saving note:",r),o([...e,t]),localStorage.setItem("playground-notes",JSON.stringify([...e,t]))}i(""),l(!1)},y=async t=>{try{if((await fetch(`/api/playground/notes?id=${t}`,{method:"DELETE"})).ok)o(e.filter(e=>e.id!==t));else throw Error("Failed to delete note from backend")}catch(r){console.error("Error deleting note:",r),o(e.filter(e=>e.id!==t))}},b=async(t,r)=>{if(e.find(e=>e.id===t))try{let a=await fetch("/api/playground/notes",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,content:r})});if(a.ok){let r=await a.json();o(e.map(e=>e.id===t?r:e))}else throw Error("Failed to update note in backend")}catch(a){console.error("Error updating note:",a),o(e.map(e=>e.id===t?{...e,content:r}:e))}},f=async()=>{if(confirm("Are you sure you want to clear all sticky notes?"))try{if((await fetch("/api/playground/notes/clear",{method:"POST"})).ok)o([]),localStorage.removeItem("playground-notes");else throw Error("Failed to clear notes from backend")}catch(e){console.error("Error clearing notes:",e),o([]),localStorage.removeItem("playground-notes")}},j=()=>{x(null)};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 p-4",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Playground"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Your creative sticky note space"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"+ Add Note"}),(0,t.jsx)("button",{onClick:f,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",disabled:0===e.length,children:"Clear All"}),(0,t.jsx)("button",{onClick:()=>{let t=new Blob([e.map(e=>`Note (${e.createdAt.toLocaleDateString()}):
${e.content}
---`).join("\n\n")],{type:"text/plain"}),r=URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download="playground-notes.txt",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",disabled:0===e.length,children:"Export"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,t.jsxs)("span",{children:[e.length," notes"]}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{children:"Click and drag to move notes"}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{children:"Double-click to edit"})]})]}),n&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 w-96",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Add New Sticky Note"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,t.jsx)("div",{className:"flex gap-2",children:a.map(e=>(0,t.jsx)("button",{onClick:()=>d(e),className:`w-8 h-8 rounded ${e} ${c===e?"ring-2 ring-blue-500":""}`},e))})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),(0,t.jsx)("textarea",{value:s,onChange:e=>i(e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Enter your note content...",autoFocus:!0})]}),(0,t.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,t.jsx)("button",{onClick:()=>{l(!1),i("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,t.jsx)("button",{onClick:p,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Add Note"})]})]})}),(0,t.jsxs)("div",{ref:m,className:"relative bg-gray-50 rounded-lg shadow-inner h-96 md:h-[600px] overflow-hidden border-2 border-dashed border-gray-300",onMouseMove:e=>{if(!g||!m.current)return;let t=m.current.getBoundingClientRect(),r=e.clientX-t.left-u.x,a=e.clientY-t.top-u.y;o(e=>e.map(e=>e.id===g?{...e,x:Math.max(0,r),y:Math.max(0,a)}:e))},onMouseUp:j,onMouseLeave:j,children:[0===e.length&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“"}),(0,t.jsx)("p",{className:"text-gray-500 text-lg",children:"No sticky notes yet"}),(0,t.jsx)("p",{className:"text-gray-400",children:'Click "Add Note" to get started'})]})}),e.map(r=>(0,t.jsxs)("div",{className:`absolute p-3 rounded-lg shadow-lg cursor-move ${r.color} min-w-[200px] max-w-[300px] group`,style:{left:`${r.x}px`,top:`${r.y}px`,minWidth:"200px",maxWidth:"300px"},onMouseDown:t=>((t,r)=>{if(!e.find(e=>e.id===r))return;let a=t.currentTarget.getBoundingClientRect();h({x:t.clientX-a.left,y:t.clientY-a.top}),x(r)})(t,r.id),children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600 opacity-75",children:r.createdAt.toLocaleDateString()}),(0,t.jsx)("button",{onClick:()=>y(r.id),className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity",children:"Ã—"})]}),(0,t.jsx)("div",{contentEditable:!0,suppressContentEditableWarning:!0,onBlur:e=>b(r.id,e.currentTarget.textContent||""),className:"outline-none text-gray-800 whitespace-pre-wrap",children:r.content})]},r.id))]})]})})}e.s(["default",()=>o])}]);